(function(){var P=Object.create||function(a){return{__proto__:a}};var Sa=Math.imul||function(a,b){return (a*(b>>>16)<<16)+a*(b&65535)|0};var ia;function l(a,b,c){var d=a.getElementsByClassName(b)[0];return d.width=d.height=c*window.devicePixelRatio|0,d.style.width=d.style.height=c+'px',d}function w(a,b){var c=null;try{c=new ab(a,b)}catch(d){document.getElementById('demo-page').style.display='none',document.getElementById('webgl-error').style.display=null;throw d}return c}function ja(a){var b=l(a,'input-canvas',256),c=l(a,'output-canvas',256),d=new bb,e=w(c,d);new Ua(b,c,function(){y(e,b),z(e),F(e)})}function ka(a){var b=l(a,'input-canvas',256),c=l(a,'output-canvas',256),d=new bb;d.a=!0;var e=w(c,d);new Va(b,c,function(){y(e,b),z(e),F(e)})}function la(a){var b=l(a,'input-canvas',256),c=l(a,'output-canvas',256),d=new bb,e=w(c,d);new Ya(b,c,function(f){y(e,f.d),z(e),F(e)})}function ma(a){var b=l(a,'input-canvas',256),c=l(a,'output-canvas',256),d=new bb;d.a=!0;var e=w(c,d);new Va(b,c,function(){y(e,b),z(e),Ha(e)})}
function na(a){var b=l(a,'input-canvas',256),c=l(a,'output-canvas',256),d=new bb;d.a=!0,d.b=15;var e=w(c,d);new Va(b,c,function(){y(e,b),z(e),F(e)})}function Ta(){window.onload=function(){ja(document.getElementById('paint-demo-container')),ka(document.getElementById('fish-demo-container')),la(document.getElementById('photo-demo-container')),ma(document.getElementById('distance-demo-container')),na(document.getElementById('threshold-demo-container'))}}function V(a,b){return a-b*Math.floor(a/b)}function Ga(a){return a!=0&&(a&a-1)==0}function I(d,a){var b=d.a.getBoundingClientRect();if(a.a>0&&a.b>0&&a.a<b.width&&a.b<b.height){var c=new Za(.5+Math.random()*.4,.2,.3+Math.random()*.5,1);d.c.beginPath(),d.c.rect(a.a-1|0,a.b-1|0,2,2),d.c.fillStyle=T(c),d.c.fill(),d.d&&d.d()}}function pa(b){xa(b.a,function(a){qa(b,a)})}function qa(h,a){var b=a/1000,c=h.a.getBoundingClientRect();h.c.clearRect(0,0,c.width,c.height);for(var d=1,k=h.f.length;d<k;d=d+1|0){var e=h.f[d];e.a.a+=h.j[d]*b,e.a.b-=h.j[d]*b;for(var f=1,n=h.f.length;f<n;f=f+1|0)d^f&&s(m(e.a,
h.f[f].a))<40&&X(e.a,W(W(Ea(m(e.a,h.f[f].a)),b),5));Ba(e.a,new $a(c.width,c.height))}for(var i=0,g=h.f,o=g.length;i<o;i=i+1|0){var j=g[i];U(j,h.c)}U(h.h,h.c),h.d&&h.d()}function Q(d){ua(d.a);for(var a=Fa(m(d.d,d.e)),e=0,f=d.b,j=f.length;e<j;e=e+1|0){var b=f[e],c=Y(b);Ca(c,Math.max(s(m(d.e,d.d))/50*2,.5)),c=Da(c,a),X(c,d.e),ra(d,c)}J(d),d.a.n(d.a)}function J(j){var a=j.a.c,b=j.d,c=j.e;a.beginPath(),a.lineWidth=1,a.moveTo(b.a|0,b.b|0),a.lineTo(c.a|0,c.b|0),a.strokeStyle='#A5A3A3',a.stroke();var d='#46C9FF',e='#46C9FF';s(m(j.f,j.d))<10?e=j.c?'#0F86B7':'#ACE7FF':s(m(j.f,j.e))<12&&(d=j.c?'#0F86B7':'#ACE7FF'),a.beginPath(),a.arc(c.a,c.b,6,0,6.283185307179586),a.fillStyle='#FFF',a.fill(),a.lineWidth=2,a.strokeStyle=d,a.stroke();var f=za(b,4);a.beginPath(),a.rect(f.a,f.b,8,8),a.fillStyle='#FFF',a.fill(),a.lineWidth=2,a.strokeStyle=e,a.stroke()}function R(c,a){switch(c.c.a){case 0:var b=m(c.d,c.e);c.e=new $a(a.offsetX,a.offsetY),c.d=ya(c.e,b);break;case 1:c.d=new $a(a.offsetX,a.offsetY);break}Q(c)}function ra(c,a){var b=c.a.a.getBoundingClientRect().width;
a.a>0&&a.b>0&&a.a<b&&a.b<b&&S(c.a,a)}function sa(e,a,b,c,d){a.fillStyle=c,ta(e,a,b,d)}function ta(d,a,b,c){a.beginPath(),a.rect(b.a|0,b.b|0,c,c),a.fill()}function ua(b){var a=b.a.getBoundingClientRect();b.c.clearRect(0,0,a.width,a.height),b.e.clearRect(0,0,b.d.width,b.d.height)}function S(b,a){sa(b,b.c,a,'rgba(255, 255, 255, 0.7)',2),b.e.fillStyle=b.j,b.e.beginPath(),b.e.rect(a.a*window.devicePixelRatio|0,a.b*window.devicePixelRatio|0,1,1),b.e.fill()}function wa(a){var b=a.getBoundingClientRect();return b.bottom>-1&&b.right>-1&&b.top<=window.innerHeight&&b.left<=window.innerWidth}function xa(a,b){var c=null,d=function(){if(wa(a)){var e=new Date,f=c?+e-+c:1/30;b(f),c=e}requestAnimationFrame(d)};requestAnimationFrame(d)}function T(a){return 'rgba('+(a.a*255|0)+', '+(a.b*255|0)+', '+(a.c*255|0)+', '+a.d+')'}function q(a){return new Za((a>>16&255)/255|0,(a>>8&255)/255,(a&255)/255,1)}function U(b,a){a.beginPath(),a.rect(b.a.a-(b.b/2|0)|0,b.a.b-(b.b/2|0)|0,b.b,b.b),a.fillStyle=T(b.c),a.fill(),a.closePath()}function ya(b,a){
return new $a(b.a+a.a,b.b+a.b)}function m(b,a){return new $a(b.a-a.a,b.b-a.b)}function za(b,a){return new $a(b.a-a,b.b-a)}function W(b,a){return new $a(b.a*a,b.b*a)}function Aa(b,a){return new $a(b.a/a,b.b/a)}function X(b,a){b.a+=a.a,b.b+=a.b}function Ba(b,a){b.a=V(b.a,a.a),b.b=V(b.b,a.b)}function Ca(b,a){b.a*=a,b.b*=a}function Da(b,a){return new $a(b.a*Math.cos(a)-b.b*Math.sin(a),b.b*Math.cos(a)+b.a*Math.sin(a))}function Ea(a){return Aa(a,s(a))}function Fa(a){return Math.atan2(a.b,a.a)}function s(a){return Math.sqrt(a.a*a.a+a.b*a.b)}function Y(a){return new $a(a.a,a.b)}function y(b,a){b.D=a,G(b.v,b.k),ba(b.g,a),u(b.g,0),b.b.a.viewport(0,0,b.c,b.c),t(t(r(B(A(b.d),'quad',b.n,2,0),'iSeedInputTexture',0),'iGridSize',new Float32Array([b.c,b.c])),'iBackgroundColor',new Float32Array([0,0,0,0])).a.drawArrays(5,0,4)}function F(a){G(a.v,a.o),ba(a.g,a.D),u(a.g,0),u(a.i,1),a.b.a.viewport(0,0,a.c,a.c),Ja(t(r(r(B(A(a.f),'quad',a.n,2,0),'iSeedInputTexture',0),'iCellGridTexture',1),'iGridSize',new Float32Array([a.c,a.c])),'iMinSeedDistanceThreshold',
a.a.b*window.devicePixelRatio).a.drawArrays(5,0,4),Z(a)}function Ha(a){G(a.v,a.o),u(a.i,0),a.b.a.viewport(0,0,a.c,a.c),t(r(B(A(a.j),'quad',a.n,2,0),'iCellGridTexture',0),'iGridSize',new Float32Array([a.c,a.c])).a.drawArrays(5,0,4),Z(a)}function Z(a){aa(a.b.b),u(a.o,0),a.b.a.viewport(0,0,a.C.width,a.C.height),t(r(B(A(a.h),'quad',a.n,2,0),'iTexture',0),'iResolution',new Float32Array([a.C.width,a.C.height])).a.drawArrays(5,0,4)}function z(b){for(var a=b.c/2|0;a>0;)K(b,a),a=a/2|0;K(b,2),K(b,1)}function K(b,a){G(b.v,b.i),u(b.k,0),b.b.a.viewport(0,0,b.c,b.c),r(t(r(r(B(A(b.e),'quad',b.n,2,0),'iCellGridTexture',0),'iStepSize',a),'iCellGridSize',new Float32Array([b.c,b.c])),'iUseTorusDistanceForSeeds',b.a.a?1:0).a.drawArrays(5,0,4),Ia(b)}function Ia(b){var a=b.k;b.k=b.i,b.i=a}function _(d,a,b){var c=d.a.createShader(a);if(d.a.shaderSource(c,b),d.a.compileShader(c),!d.a.getShaderParameter(c,35713)){console.error(d.a.getShaderInfoLog(c));throw new Error('Failed to create shader')}return c}function A(a){return a.a.useProgram(a.b),
a}function r(d,a,b){var c=L(d,a);return d.a.uniform1i(c,b),d}function Ja(d,a,b){var c=L(d,a);return d.a.uniform1f(c,b),d}function t(d,a,b){var c=L(d,a);if(b.length^2){if(b.length^3){if(b.length^4)throw new Error('Invalid size of value: '+b.length);else d.a.uniform4fv(c,b)}else d.a.uniform3fv(c,b)}else d.a.uniform2fv(c,b);return d}function B(f,a,b,c,d){var e=Ka(f,a);return $(b),f.a.enableVertexAttribArray(e),f.a.vertexAttribPointer(e,c,5126,!1,d,0),f}function Ka(b,a){return a in b.d||(b.d[a]=b.a.getAttribLocation(b.b,a)),b.d[a]}function L(b,a){return a in b.c||(b.c[a]=b.a.getUniformLocation(b.b,a)),b.c[a]}function $(a){a.a.bindBuffer(a.c,a.b)}function La(c,a,b){$(c),c.d^a.byteLength?(c.a.bufferData(c.c,a,b),c.d=a.byteLength):c.a.bufferSubData(c.c,0,a)}function Ma(a){return new fb(a,a.createFramebuffer())}function aa(a){a.a.bindFramebuffer(36160,a.b)}function G(b,a){aa(b),b.a.framebufferTexture2D(36160,36064,3553,a.c,0)}function Na(a){return new gb(a.a,a.b,a.c,a.d,a.e)}function M(a){a.a.bindTexture(3553,a.c)}function u(b,a){
b.a.activeTexture(33984+a),M(b)}function H(c,a,b){M(c),c.a.texImage2D(3553,0,c.b.b,a,b,0,c.b.b,c.b.e,null)}function ba(b,a){M(b),b.a.texImage2D(3553,0,b.b.b,b.b.b,b.b.e,a)}function p(a,b,c){a.addEventListener(b,c)}function E(a){return new $a(a.offsetX,a.offsetY)}function x(a){try{return a.getContext('2d')}catch(b){}return null}function va(a){try{return a.getContext('webgl')}catch(b){}try{return a.getContext('experimental-webgl')}catch(c){}return null}function Ua(a,b,c){var i=this;i.c=null,i.a=a,i.b=b,i.d=c,i.a.style.backgroundColor='white',i.c=x(i.a),i.c.scale(window.devicePixelRatio,window.devicePixelRatio);for(var d=!1,g=0,o=[i.a,i.b],v=o.length;g<v;g=g+1|0){var e=o[g];p(e,'mousemove',function(f){d&&(f.target==i.a||f.target==i.b)&&I(i,E(f))})}p(document,'mousedown',function(j){(j.target==i.a||j.target==i.b)&&(d=!0,I(i,E(j)))}),p(document,'mouseup',function(h){d=!1}),p(document,'mouseleave',function(n){d=!1});var k=i.a.getBoundingClientRect();I(i,new $a(k.width/2|0,k.height/2|0))}function Va(a,b,c){var h=this;
h.a=h.b=h.c=h.d=null,h.e=12,h.f=[],h.j=[],h.h=null,h.a=a,h.b=b,h.d=c,h.c=x(h.a),h.c.scale(window.devicePixelRatio,window.devicePixelRatio);for(var d=h.a.getBoundingClientRect(),e=1,n=h.e;e<n;e=e+1|0)h.f.push(new _a(new $a(Math.random()*d.width,Math.random()*d.height))),h.f[h.f.length-1|0].c=oa[e%oa.length|0],h.j.push(15+Math.random()*8);h.h=new _a(new $a(Math.random()*d.width,Math.random()*d.height)),h.h.c=q(16771345);for(var k=0,i=[h.a,h.b],g=i.length;k<g;k=k+1|0){var f=i[k];p(f,'mousemove',function(j){h.h.a=E(j)})}pa(h)}function Wa(a){this.a=null,this.b=[],this.c=null,this.d=new $a(0,0),this.e=new $a(0,0),this.f=new $a(0,0),this.a=a;var b=this.a.a.getBoundingClientRect(),c=new $a(b.width,b.height);this.e=new $a(c.a/2,c.b/2),this.d=Y(this.e),this.d.b-=50;for(var d=0;d<20;d=d+1|0)for(var e=Sa(d,d),f=0;f<10;f++){var j=e*Math.cos(f/10*3.141592653589793*2),h=e*Math.sin(f/10*3.141592653589793*2);j+=Math.random()*30-15,h+=Math.random()*30-15,this.b.push(new $a(j,h))}Q(this)}ia=Wa.prototype;ia.fa=function(a){this.f=new $a(a.offsetX,
a.offsetY);var b=new $a(a.offsetX,a.offsetY);this.c=s(m(this.d,b))<s(m(this.e,b))?new Xa(1):new Xa(0),a.stopPropagation(),R(this,a)};ia.ga=function(a){this.f=new $a(a.offsetX,a.offsetY),this.c?R(this,a):J(this),a.stopPropagation()};ia.ha=function(a){S(this.a,E(a)),this.c=null,this.f=new $a(a.offsetX,a.offsetY),J(this),a.stopPropagation()};function Ya(a,b,c){var g=this;g.a=g.b=g.c=g.d=g.e=g.f=g.j=null,g.h=!1,g.n=null,g.k=[],g.a=a,g.b=b,g.n=c,g.c=x(g.a),g.c.scale(window.devicePixelRatio,window.devicePixelRatio),g.d=document.createElement('canvas'),g.e=x(g.d),g.d.width=g.a.width,g.d.height=g.a.height,g.f=document.getElementById('eye');var d=document.createElement('canvas');d.width=g.d.width,d.height=g.d.height,x(d).drawImage(g.f,0,0,g.f.naturalWidth,g.f.naturalHeight,0,0,d.width,d.height),g.j=g.e.createPattern(d,'repeat');for(var O=0,ea=[g.a,g.b],Qa=ea.length;O<Qa;O=O+1|0){var e=ea[O];p(e,'mousedown',function(f){for(var o=0,v=g.k,ca=v.length;o<ca;o=o+1|0){var j=v[o];j.fa(f)}}),p(e,'mousemove',function(h){for(var D=0,C=g.k,Oa=C.length;D<Oa;D=D+1|0){
var n=C[D];n.ga(h)}}),p(e,'mouseup',function(k){for(var N=0,da=g.k,Pa=da.length;N<Pa;N=N+1|0){var i=da[N];i.ha(k)}})}g.k=[new Wa(g)]}function Za(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d}function _a(a){this.a=a,this.b=2,this.c=new Za(0,0,1,1)}function $a(a,b){this.a=a,this.b=b}function ab(a,b){if(this.a=this.b=null,this.c=0,this.d=this.e=this.f=this.j=this.h=this.n=this.k=this.i=this.g=this.o=this.v=this.ca=this.D=this.C=null,a.width^a.height)throw new Error('Voronoi canvas parameter must be square. Size is ('+a.width+', '+a.height+')');if(!Ga(a.width))throw new Error('Voronoi canvas size must be a power of two. Size is '+a.width);if(this.a=b,this.c=a.width,this.C=a,this.b=new cb(a),!this.b.a)throw new Error('Failed to initialize Wham');this.b.a.disable(2929);var c=this.b.a;c.disable(2929),this.e=new db(this.b.a,'precision highp float;\nprecision highp int;\n\nconst vec4 k = vec4(1.0, 0.0, 0.0, 1.0), o = vec4(0.0, 1.0, 0.0, 1.0), l = vec4(0.0, 0.0, 1.0, 1.0), m = vec4(0.0, 1.0, 1.0, 1.0), q = vec4(1.0, 0.0, 1.0, 1.0), p = vec4(1.0, 1.0, 0.0, 1.0), i = vec4(0.0, 0.0, 0.0, 1.0), n = vec4(1.0, 1.0, 1.0, 1.0);\nattribute vec2 quad;\n\nvoid main() {\n  gl_Position = vec4(quad, 0, 1.0);\n}\n',
'precision highp float;\nprecision highp int;\n\nuniform sampler2D iCellGridTexture;\nuniform vec2 iCellGridSize;\nuniform int iStepSize;\nuniform bool iUseTorusDistanceForSeeds;\nconst vec4 k = vec4(1.0, 0.0, 0.0, 1.0), o = vec4(0.0, 1.0, 0.0, 1.0), l = vec4(0.0, 0.0, 1.0, 1.0), m = vec4(0.0, 1.0, 1.0, 1.0), q = vec4(1.0, 0.0, 1.0, 1.0), p = vec4(1.0, 1.0, 0.0, 1.0), i = vec4(0.0, 0.0, 0.0, 1.0), n = vec4(1.0, 1.0, 1.0, 1.0);\n\nint x(int a, int b) {\n  return int(mod(float(a), float(b)));\n}\n\nint g(ivec2 a) {\n  return a.x * 256 + a.y;\n}\n\nivec2 r(int a) {\n  return ivec2(a / 256, x(a, 256));\n}\n\nbool v(vec2 a) {\n  return a.x >= 0.0 && a.y >= 0.0 && a.x <= 1.0 && a.y <= 1.0;\n}\n\nvec4 s(const ivec2 a) {\n  ivec2 b = r(a.x), c = r(a.y);\n  return vec4(vec2(b) / 255.0, vec2(c) / 255.0);\n}\n\nvec4 w() {\n  return s(ivec2(21000, 21000));\n}\n\nvec2 h(const vec4 a) {\n  int b = g(ivec2(a.rg * 255.0)), c = g(ivec2(a.ba * 255.0));\n  return vec2(b, c);\n}\n\nbool t(const vec4 a) {\n  vec2 b = h(a);\n  return b.x < 2e+4;\n}\n\nfloat j(vec2 a, vec2 b, vec2 c) {\n  float d = min(abs(a.x - b.x), c.x - abs(a.x - b.x)), e = min(abs(a.y - b.y), c.y - abs(a.y - b.y));\n  return sqrt(d * d + e * e);\n}\n\nvec4 f(const vec4 b, const vec2 y) {\n  vec2 c = (gl_FragCoord.xy + y) / iCellGridSize;\n  vec4 a = texture2D(iCellGridTexture, c);\n  a = !v(c) && !iUseTorusDistanceForSeeds ? w() : a;\n  if (!t(a))\n    return b;\n  else if (!t(b))\n    return a;\n  else {\n    vec2 d = h(b), e = h(a);\n    float A = iUseTorusDistanceForSeeds ? j(d, gl_FragCoord.xy, iCellGridSize) : distance(d, gl_FragCoord.xy), B = iUseTorusDistanceForSeeds ? j(e, gl_FragCoord.xy, iCellGridSize) : distance(e, gl_FragCoord.xy);\n    if (A > B)\n      return a;\n  }\n  return b;\n}\n\nvoid main() {\n  vec2 b = gl_FragCoord.xy / iCellGridSize;\n  vec4 a = texture2D(iCellGridTexture, b);\n  a = f(a, vec2(0, iStepSize)), a = f(a, vec2(iStepSize, iStepSize)), a = f(a, vec2(iStepSize, 0)), a = f(a, vec2(iStepSize, -iStepSize)), a = f(a, vec2(0, -iStepSize)), a = f(a, vec2(-iStepSize, -iStepSize)), a = f(a, vec2(-iStepSize, 0)), a = f(a, vec2(-iStepSize, iStepSize)), gl_FragColor = a;\n}\n'),
this.d=new db(this.b.a,'precision highp float;\nprecision highp int;\n\nconst vec4 k = vec4(1.0, 0.0, 0.0, 1.0), o = vec4(0.0, 1.0, 0.0, 1.0), l = vec4(0.0, 0.0, 1.0, 1.0), m = vec4(0.0, 1.0, 1.0, 1.0), q = vec4(1.0, 0.0, 1.0, 1.0), p = vec4(1.0, 1.0, 0.0, 1.0), i = vec4(0.0, 0.0, 0.0, 1.0), n = vec4(1.0, 1.0, 1.0, 1.0);\nattribute vec2 quad;\n\nvoid main() {\n  gl_Position = vec4(quad, 0, 1.0);\n}\n','precision highp float;\nprecision highp int;\n\nuniform sampler2D iSeedInputTexture;\nuniform vec2 iGridSize;\nuniform vec4 iBackgroundColor;\nconst vec4 k = vec4(1.0, 0.0, 0.0, 1.0), o = vec4(0.0, 1.0, 0.0, 1.0), l = vec4(0.0, 0.0, 1.0, 1.0), m = vec4(0.0, 1.0, 1.0, 1.0), q = vec4(1.0, 0.0, 1.0, 1.0), p = vec4(1.0, 1.0, 0.0, 1.0), i = vec4(0.0, 0.0, 0.0, 1.0), n = vec4(1.0, 1.0, 1.0, 1.0);\n\nint x(int a, int b) {\n  return int(mod(float(a), float(b)));\n}\n\nivec2 r(int a) {\n  return ivec2(a / 256, x(a, 256));\n}\n\nbool u(float a, float b) {\n  return abs(a - b) < 1e-4;\n}\n\nbool z(vec4 a, vec4 b) {\n  return u(a.x, b.x) && u(a.y, b.y) && u(a.z, b.z) && u(a.w, b.w);\n}\n\nvec4 s(const ivec2 a) {\n  ivec2 b = r(a.x), c = r(a.y);\n  return vec4(vec2(b) / 255.0, vec2(c) / 255.0);\n}\n\nvec4 w() {\n  return s(ivec2(21000, 21000));\n}\n\nvoid main() {\n  vec2 a = gl_FragCoord.xy / iGridSize, b = vec2(a.x, 1.0 - a.y);\n  vec4 c = texture2D(iSeedInputTexture, b);\n  gl_FragColor = z(c, iBackgroundColor) ? w() : s(ivec2(gl_FragCoord.xy));\n}\n'),
this.h=new db(this.b.a,'precision highp float;\nprecision highp int;\n\nconst vec4 k = vec4(1.0, 0.0, 0.0, 1.0), o = vec4(0.0, 1.0, 0.0, 1.0), l = vec4(0.0, 0.0, 1.0, 1.0), m = vec4(0.0, 1.0, 1.0, 1.0), q = vec4(1.0, 0.0, 1.0, 1.0), p = vec4(1.0, 1.0, 0.0, 1.0), i = vec4(0.0, 0.0, 0.0, 1.0), n = vec4(1.0, 1.0, 1.0, 1.0);\nattribute vec2 quad;\n\nvoid main() {\n  gl_Position = vec4(quad, 0, 1.0);\n}\n','precision highp float;\nprecision highp int;\n\nuniform sampler2D iInputTexture;\nuniform vec2 iResolution;\nconst vec4 k = vec4(1.0, 0.0, 0.0, 1.0), o = vec4(0.0, 1.0, 0.0, 1.0), l = vec4(0.0, 0.0, 1.0, 1.0), m = vec4(0.0, 1.0, 1.0, 1.0), q = vec4(1.0, 0.0, 1.0, 1.0), p = vec4(1.0, 1.0, 0.0, 1.0), i = vec4(0.0, 0.0, 0.0, 1.0), n = vec4(1.0, 1.0, 1.0, 1.0);\n\nvoid main() {\n  vec2 a = gl_FragCoord.xy / iResolution;\n  gl_FragColor = texture2D(iInputTexture, a);\n}\n'),this.f=new db(this.b.a,'precision highp float;\nprecision highp int;\n\nconst vec4 k = vec4(1.0, 0.0, 0.0, 1.0), o = vec4(0.0, 1.0, 0.0, 1.0), l = vec4(0.0, 0.0, 1.0, 1.0), m = vec4(0.0, 1.0, 1.0, 1.0), q = vec4(1.0, 0.0, 1.0, 1.0), p = vec4(1.0, 1.0, 0.0, 1.0), i = vec4(0.0, 0.0, 0.0, 1.0), n = vec4(1.0, 1.0, 1.0, 1.0);\nattribute vec2 quad;\n\nvoid main() {\n  gl_Position = vec4(quad, 0, 1.0);\n}\n',
'precision highp float;\nprecision highp int;\n\nuniform sampler2D iCellGridTexture, iSeedInputTexture;\nuniform vec2 iGridSize;\nuniform float iMinSeedDistanceThreshold;\nconst vec4 k = vec4(1.0, 0.0, 0.0, 1.0), o = vec4(0.0, 1.0, 0.0, 1.0), l = vec4(0.0, 0.0, 1.0, 1.0), m = vec4(0.0, 1.0, 1.0, 1.0), q = vec4(1.0, 0.0, 1.0, 1.0), p = vec4(1.0, 1.0, 0.0, 1.0), i = vec4(0.0, 0.0, 0.0, 1.0), n = vec4(1.0, 1.0, 1.0, 1.0);\n\nint g(ivec2 a) {\n  return a.x * 256 + a.y;\n}\n\nvec2 h(const vec4 a) {\n  int b = g(ivec2(a.rg * 255.0)), c = g(ivec2(a.ba * 255.0));\n  return vec2(b, c);\n}\n\nbool t(const vec4 a) {\n  vec2 b = h(a);\n  return b.x < 2e+4;\n}\n\nfloat j(vec2 a, vec2 b, vec2 c) {\n  float d = min(abs(a.x - b.x), c.x - abs(a.x - b.x)), e = min(abs(a.y - b.y), c.y - abs(a.y - b.y));\n  return sqrt(d * d + e * e);\n}\n\nvoid main() {\n  vec2 d = gl_FragCoord.xy / iGridSize;\n  vec4 a = texture2D(iCellGridTexture, d);\n  vec2 b = h(a) + vec2(0.5);\n  float e = j(b, gl_FragCoord.xy, iGridSize);\n  if (t(a) && iMinSeedDistanceThreshold < 0.0 || e < iMinSeedDistanceThreshold) {\n    vec2 c = b / iGridSize, y = vec2(c.x, 1.0 - c.y);\n    gl_FragColor = texture2D(iSeedInputTexture, y);\n  }\n  else\n    gl_FragColor = i;\n}\n'),
this.j=new db(this.b.a,'precision highp float;\nprecision highp int;\n\nconst vec4 k = vec4(1.0, 0.0, 0.0, 1.0), o = vec4(0.0, 1.0, 0.0, 1.0), l = vec4(0.0, 0.0, 1.0, 1.0), m = vec4(0.0, 1.0, 1.0, 1.0), q = vec4(1.0, 0.0, 1.0, 1.0), p = vec4(1.0, 1.0, 0.0, 1.0), i = vec4(0.0, 0.0, 0.0, 1.0), n = vec4(1.0, 1.0, 1.0, 1.0);\nattribute vec2 quad;\n\nvoid main() {\n  gl_Position = vec4(quad, 0, 1.0);\n}\n','precision highp float;\nprecision highp int;\n\nuniform sampler2D iCellGridTexture;\nuniform vec2 iGridSize;\nconst vec4 k = vec4(1.0, 0.0, 0.0, 1.0), o = vec4(0.0, 1.0, 0.0, 1.0), l = vec4(0.0, 0.0, 1.0, 1.0), m = vec4(0.0, 1.0, 1.0, 1.0), q = vec4(1.0, 0.0, 1.0, 1.0), p = vec4(1.0, 1.0, 0.0, 1.0), i = vec4(0.0, 0.0, 0.0, 1.0), n = vec4(1.0, 1.0, 1.0, 1.0);\n\nint g(ivec2 a) {\n  return a.x * 256 + a.y;\n}\n\nbool v(vec2 a) {\n  return a.x >= 0.0 && a.y >= 0.0 && a.x <= 1.0 && a.y <= 1.0;\n}\n\nvec2 h(const vec4 a) {\n  int b = g(ivec2(a.rg * 255.0)), c = g(ivec2(a.ba * 255.0));\n  return vec2(b, c);\n}\n\nfloat j(vec2 a, vec2 b, vec2 c) {\n  float d = min(abs(a.x - b.x), c.x - abs(a.x - b.x)), e = min(abs(a.y - b.y), c.y - abs(a.y - b.y));\n  return sqrt(d * d + e * e);\n}\n\nvoid main() {\n  vec2 b = gl_FragCoord.xy / iGridSize;\n  if (!v(b)) {\n    gl_FragColor = k;\n    return;\n  }\n  vec4 c = texture2D(iCellGridTexture, b);\n  vec2 d = h(c);\n  float a = j(d, gl_FragCoord.xy, iGridSize);\n  a = 1.0 - a / (iGridSize.x * 0.5), gl_FragColor = vec4(a, a, a, 1.0);\n}\n'),
this.n=new eb(c),La(this.n,Ra,35044);var d=new gb(c,6408,10497,9728,5121);this.k=new hb(c,d),H(this.k,this.c,this.c),this.i=new hb(c,d),H(this.i,this.c,this.c),d=new gb(c,6408,10497,9729,5121),this.o=new hb(c,d),H(this.o,this.c,this.c),d=new gb(c,6408,10497,9728,5121),this.g=new hb(c,d),H(this.g,this.c,this.c),this.v=Ma(c)}function cb(a){this.a=this.b=null,this.a=va(a),this.b=new fb(this.a,null)}function Xa(a){this.a=a}function bb(){this.a=!1,this.b=-1}function db(a,b,c){if(this.a=this.b=null,this.c=P(null),this.d=P(null),this.a=a,this.b=this.a.createProgram(),this.a.attachShader(this.b,_(this,35633,b)),this.a.attachShader(this.b,_(this,35632,c)),this.a.linkProgram(this.b),!this.a.getProgramParameter(this.b,35714))throw new Error(this.a.getProgramInfoLog(this.b))}function eb(a){this.b=null,this.c=0,this.d=-1,this.a=a,this.b=this.a.createBuffer(),this.c=34962}function fb(a,b){this.a=a,this.b=b}function gb(a,b,c,d,e){this.a=a,this.b=b,this.c=c,this.d=d,this.e=e}function hb(a,b){this.b=this.c=null,this.a=a,this.b=Na(b),
this.c=this.a.createTexture(),this.a.bindTexture(3553,this.c),this.a.texParameteri(3553,10242,this.b.c),this.a.texParameteri(3553,10243,this.b.c),this.a.texParameteri(3553,10241,this.b.d),this.a.texParameteri(3553,10240,this.b.d)}var oa=[q(7051762),q(4814543),q(8428277),q(8305894),q(9011445),q(970239),q(5611513)],Ra=new Float32Array([-1,-1,1,-1,-1,1,1,1]);Ta()})();
