(function(){var P=Object.create||function(a){return{__proto__:a}};var Va=Math.imul||function(a,b){return (a*(b>>>16)<<16)+a*(b&65535)|0};var ia;function n(a,b,c){var d=a.getElementsByClassName(b)[0];return d.width=d.height=c*2|0,d.style.width=d.style.height=c+'px',d}function x(a,b){var c=null;try{c=new db(a,b)}catch(d){document.getElementById('demo-page').style.display='none',document.getElementById('webgl-error').style.display=null;throw d}return c}function ja(a,b){var c=n(a,'input-canvas',256),d=n(a,'output-canvas',256),e=new eb;e.b=b;var f=x(d,e);new Xa(c,d,function(){z(f,c),A(f),F(f)})}function ka(a,b){var c=n(a,'input-canvas',256),d=n(a,'output-canvas',256),e=new eb;e.a=!0,e.b=b;var f=x(d,e);new Ya(c,d,function(){z(f,c),A(f),F(f)})}function la(a,b){var c=n(a,'input-canvas',256),d=n(a,'output-canvas',256),e=new eb;e.b=b;var f=x(d,e);new $a(c,d,function(k){z(f,k.d),A(f),F(f)})}function ma(a,b){var c=n(a,'input-canvas',256),d=n(a,'output-canvas',256),e=new eb;e.a=!0,e.b=b;var f=x(d,e);new Ya(c,d,function(){z(f,
c),A(f),Ja(f)})}function na(a,b){var c=n(a,'input-canvas',256),d=n(a,'output-canvas',256),e=new eb;e.a=!0,e.b=b,e.c=15;var f=x(d,e);new Ya(c,d,function(){z(f,c),A(f),F(f)})}function Wa(){window.onload=function(){var a=1;try{var b=wa('antialiasingFactor');b!=null&&(a=parseInt(b,10))}catch(c){}ja(document.getElementById('paint-demo-container'),a),ka(document.getElementById('fish-demo-container'),a),la(document.getElementById('photo-demo-container'),a),ma(document.getElementById('distance-demo-container'),a),na(document.getElementById('threshold-demo-container'),a)}}function V(a,b){return a-b*Math.floor(a/b)}function Ha(a,b){var c=a.getExtension(b);if(!c)throw new Error('Unsupported WebGL extension with name '+b);return c}function Ia(a){return a!=0&&(a&a-1)==0}function I(d,a){var b=d.a.getBoundingClientRect();if(a.a>0&&a.b>0&&a.a<b.width&&a.b<b.height){var c=new ab(.5+Math.random()*.4,.2,.3+Math.random()*.5,1);d.c.beginPath(),d.c.rect(a.a-1|0,a.b-1|0,2,2),d.c.fillStyle=T(c),d.c.fill(),d.d&&d.d()}}function pa(b){ya(b.a,
function(a){qa(b,a)})}function qa(g,a){var b=a/1000,c=g.a.getBoundingClientRect();g.c.clearRect(0,0,c.width,c.height);for(var d=1,l=g.f.length;d<l;d=d+1|0){var e=g.f[d];e.a.a+=g.k[d]*b,e.a.b-=g.k[d]*b;for(var f=1,p=g.f.length;f<p;f=f+1|0)d^f&&u(o(e.a,g.f[f].a))<40&&X(e.a,W(W(Fa(o(e.a,g.f[f].a)),b),5));Ca(e.a,new cb(c.width,c.height))}for(var j=0,i=g.f,q=i.length;j<q;j=j+1|0){var k=i[j];U(k,g.c)}U(g.g,g.c),g.d&&g.d()}function Q(d){ua(d.a);for(var a=Ga(o(d.d,d.e)),e=0,f=d.b,k=f.length;e<k;e=e+1|0){var b=f[e],c=Y(b);Da(c,Math.max(u(o(d.e,d.d))/50*2,.5)),c=Ea(c,a),X(c,d.e),ra(d,c)}J(d),d.a.p(d.a)}function J(k){var a=k.a.c,b=k.d,c=k.e;a.beginPath(),a.lineWidth=1,a.moveTo(b.a|0,b.b|0),a.lineTo(c.a|0,c.b|0),a.strokeStyle='#A5A3A3',a.stroke();var d='#46C9FF',e='#46C9FF';u(o(k.f,k.d))<10?e=k.c?'#0F86B7':'#ACE7FF':u(o(k.f,k.e))<12&&(d=k.c?'#0F86B7':'#ACE7FF'),a.beginPath(),a.arc(c.a,c.b,6,0,6.283185307179586),a.fillStyle='#FFF',a.fill(),a.lineWidth=2,a.strokeStyle=d,a.stroke();var f=Aa(b,4);a.beginPath(),a.rect(f.a,f.b,
8,8),a.fillStyle='#FFF',a.fill(),a.lineWidth=2,a.strokeStyle=e,a.stroke()}function R(c,a){switch(c.c.a){case 0:var b=o(c.d,c.e);c.e=new cb(a.offsetX,a.offsetY),c.d=za(c.e,b);break;case 1:c.d=new cb(a.offsetX,a.offsetY);break}Q(c)}function ra(c,a){var b=c.a.a.getBoundingClientRect().width;a.a>0&&a.b>0&&a.a<b&&a.b<b&&S(c.a,a)}function sa(e,a,b,c,d){a.fillStyle=c,ta(e,a,b,d)}function ta(d,a,b,c){a.beginPath(),a.rect(b.a|0,b.b|0,c,c),a.fill()}function ua(b){var a=b.a.getBoundingClientRect();b.c.clearRect(0,0,a.width,a.height),b.e.clearRect(0,0,b.d.width,b.d.height)}function S(b,a){sa(b,b.c,a,'rgba(255, 255, 255, 0.7)',2),b.e.fillStyle=b.k,b.e.beginPath(),b.e.rect(a.a*2|0,a.b*2|0,1,1),b.e.fill()}function wa(a){for(var b=window.location.search.substring(1),c=b.split('&'),d=0;d<c.length;d=d+1|0){var e=c[d].split('=');if(e[0]===a)return e[1]}return null}function xa(a){var b=a.getBoundingClientRect();return b.bottom>-1&&b.right>-1&&b.top<=window.innerHeight&&b.left<=window.innerWidth}function ya(a,b){var c=null,d=function(){
if(xa(a)){var e=new Date,f=c?+e-+c:1/30;b(f),c=e}requestAnimationFrame(d)};requestAnimationFrame(d)}function T(a){return 'rgba('+(a.a*255|0)+', '+(a.b*255|0)+', '+(a.c*255|0)+', '+a.d+')'}function s(a){return new ab((a>>16&255)/255|0,(a>>8&255)/255,(a&255)/255,1)}function U(b,a){a.beginPath(),a.rect(b.a.a-(b.b/2|0)|0,b.a.b-(b.b/2|0)|0,b.b,b.b),a.fillStyle=T(b.c),a.fill(),a.closePath()}function za(b,a){return new cb(b.a+a.a,b.b+a.b)}function o(b,a){return new cb(b.a-a.a,b.b-a.b)}function Aa(b,a){return new cb(b.a-a,b.b-a)}function W(b,a){return new cb(b.a*a,b.b*a)}function Ba(b,a){return new cb(b.a/a,b.b/a)}function X(b,a){b.a+=a.a,b.b+=a.b}function Ca(b,a){b.a=V(b.a,a.a),b.b=V(b.b,a.b)}function Da(b,a){b.a*=a,b.b*=a}function Ea(b,a){return new cb(b.a*Math.cos(a)-b.b*Math.sin(a),b.b*Math.cos(a)+b.a*Math.sin(a))}function Fa(a){return Ba(a,u(a))}function Ga(a){return Math.atan2(a.b,a.a)}function u(a){return Math.sqrt(a.a*a.a+a.b*a.b)}function Y(a){return new cb(a.a,a.b)}function h(a){return Va(a.c,a.a.b)}function z(b,a){
G(b.v,b.l),Qa(b.i,a),D(b.i,0),b.b.a.viewport(0,0,h(b),h(b)),t(t(m(C(B(b.d),'quad',b.p,2,0),'iSeedInputTexture',0),'iGridSize',new Float32Array([h(b),h(b)])),'iBackgroundColor',new Float32Array([0,0,0,0])).a.drawArrays(5,0,4)}function F(a){G(a.v,a.q),D(a.j,0),a.b.a.viewport(0,0,h(a),h(a)),La(m(m(t(t(m(C(B(a.f),'quad',a.p,2,0),'iCellGridTexture',0),'iCanvasSize',new Float32Array([h(a),h(a)])),'iGridSize',new Float32Array([h(a),h(a)])),'iRelease',1),'iAntialiasingFactor',a.a.b),'iMinSeedDistanceThreshold',a.a.c*2).a.drawArrays(5,0,4),Z(a)}function Ja(a){G(a.v,a.q),D(a.j,0),a.b.a.viewport(0,0,h(a),h(a)),m(m(t(t(m(C(B(a.k),'quad',a.p,2,0),'iCellGridTexture',0),'iCanvasSize',new Float32Array([h(a),h(a)])),'iGridSize',new Float32Array([h(a),h(a)])),'iRelease',1),'iAntialiasingFactor',a.a.b).a.drawArrays(5,0,4),Z(a)}function Z(a){aa(a.b.b),D(a.q,0),a.b.a.viewport(0,0,a.w.width,a.w.height),t(m(C(B(a.g),'quad',a.p,2,0),'iTexture',0),'iResolution',new Float32Array([a.w.width,a.w.height])).a.drawArrays(5,0,4)}function A(b){
for(var a=h(b)/2|0;a>0;)K(b,a),a=a/2|0;K(b,2),K(b,1)}function K(b,a){G(b.v,b.j),D(b.l,0),b.b.a.viewport(0,0,h(b),h(b)),m(t(m(m(C(B(b.e),'quad',b.p,2,0),'iCellGridTexture',0),'iStepSize',a),'iCellGridSize',new Float32Array([h(b),h(b)])),'iUseTorusDistanceForSeeds',b.a.a?1:0).a.drawArrays(5,0,4),Ka(b)}function Ka(b){var a=b.l;b.l=b.j,b.j=a}function _(d,a,b){var c=d.a.createShader(a);if(d.a.shaderSource(c,b),d.a.compileShader(c),!d.a.getShaderParameter(c,35713)){console.error(d.a.getShaderInfoLog(c));throw new Error('Failed to create shader')}return c}function B(a){return a.a.useProgram(a.b),a}function m(d,a,b){var c=L(d,a);return d.a.uniform1i(c,b),d}function La(d,a,b){var c=L(d,a);return d.a.uniform1f(c,b),d}function t(d,a,b){var c=L(d,a);if(b.length^2){if(b.length^3){if(b.length^4)throw new Error('Invalid size of value: '+b.length);else d.a.uniform4fv(c,b)}else d.a.uniform3fv(c,b)}else d.a.uniform2fv(c,b);return d}function C(f,a,b,c,d){var e=Ma(f,a);return $(b),f.a.enableVertexAttribArray(e),f.a.vertexAttribPointer(e,
c,5126,!1,d,0),f}function Ma(b,a){return a in b.d||(b.d[a]=b.a.getAttribLocation(b.b,a)),b.d[a]}function L(b,a){return a in b.c||(b.c[a]=b.a.getUniformLocation(b.b,a)),b.c[a]}function $(a){a.a.bindBuffer(a.c,a.b)}function Na(c,a,b){$(c),c.d^a.byteLength?(c.a.bufferData(c.c,a,b),c.d=a.byteLength):c.a.bufferSubData(c.c,0,a)}function Oa(a){return new ib(a,a.createFramebuffer())}function aa(a){a.a.bindFramebuffer(36160,a.b)}function G(b,a){aa(b),b.a.framebufferTexture2D(36160,36064,3553,a.c,0)}function Pa(a){return new jb(a.a,a.b,a.c,a.d,a.e)}function M(a){a.a.bindTexture(3553,a.c)}function D(b,a){b.a.activeTexture(33984+a),M(b)}function H(c,a,b){M(c),c.a.texImage2D(3553,0,c.b.b,a,b,0,c.b.b,c.b.e,null)}function Qa(b,a){M(b),b.a.texImage2D(3553,0,b.b.b,b.b.b,b.b.e,a)}function r(a,b,c){a.addEventListener(b,c)}function E(a){return new cb(a.offsetX,a.offsetY)}function y(a){try{return a.getContext('2d')}catch(b){}return null}function va(a){try{return a.getContext('webgl')}catch(b){}try{return a.getContext('experimental-webgl')}catch(c){}
return null}function Xa(a,b,c){var j=this;j.c=null,j.a=a,j.b=b,j.d=c,j.a.style.backgroundColor='white',j.c=y(j.a),j.c.scale(2,2);for(var d=!1,i=0,q=[j.a,j.b],v=q.length;i<v;i=i+1|0){var e=q[i];r(e,'mousemove',function(f){d&&(f.target==j.a||f.target==j.b)&&I(j,E(f))})}r(document,'mousedown',function(k){(k.target==j.a||k.target==j.b)&&(d=!0,I(j,E(k)))}),r(document,'mouseup',function(g){d=!1}),r(document,'mouseleave',function(p){d=!1});var l=j.a.getBoundingClientRect();I(j,new cb(l.width/2|0,l.height/2|0))}function Ya(a,b,c){var g=this;g.a=g.b=g.c=g.d=null,g.e=12,g.f=[],g.k=[],g.g=null,g.a=a,g.b=b,g.d=c,g.c=y(g.a),g.c.scale(2,2);for(var d=g.a.getBoundingClientRect(),e=1,p=g.e;e<p;e=e+1|0)g.f.push(new bb(new cb(Math.random()*d.width,Math.random()*d.height))),g.f[g.f.length-1|0].c=oa[e%oa.length|0],g.k.push(15+Math.random()*8);g.g=new bb(new cb(Math.random()*d.width,Math.random()*d.height)),g.g.c=s(16771345);for(var l=0,j=[g.a,g.b],i=j.length;l<i;l=l+1|0){var f=j[l];r(f,'mousemove',function(k){g.g.a=E(k)})}pa(g)}function Za(a){
this.a=null,this.b=[],this.c=null,this.d=new cb(0,0),this.e=new cb(0,0),this.f=new cb(0,0),this.a=a;var b=this.a.a.getBoundingClientRect(),c=new cb(b.width,b.height);this.e=new cb(c.a/2,c.b/2),this.d=Y(this.e),this.d.b-=50;for(var d=0;d<20;d=d+1|0)for(var e=Va(d,d),f=0;f<10;f++){var k=e*Math.cos(f/10*3.141592653589793*2),g=e*Math.sin(f/10*3.141592653589793*2);k+=Math.random()*30-15,g+=Math.random()*30-15,this.b.push(new cb(k,g))}Q(this)}ia=Za.prototype;ia.fa=function(a){this.f=new cb(a.offsetX,a.offsetY);var b=new cb(a.offsetX,a.offsetY);this.c=u(o(this.d,b))<u(o(this.e,b))?new _a(1):new _a(0),a.stopPropagation(),R(this,a)};ia.ga=function(a){this.f=new cb(a.offsetX,a.offsetY),this.c?R(this,a):J(this),a.stopPropagation()};ia.ha=function(a){S(this.a,E(a)),this.c=null,this.f=new cb(a.offsetX,a.offsetY),J(this),a.stopPropagation()};function $a(a,b,c){var i=this;i.a=i.b=i.c=i.d=i.e=i.f=i.k=null,i.g=!1,i.p=null,i.l=[],i.a=a,i.b=b,i.p=c,i.c=y(i.a),i.c.scale(2,2),i.d=document.createElement('canvas'),i.e=y(i.d),i.d.width=i.a.width,
i.d.height=i.a.height,i.f=document.getElementById('eye');var d=document.createElement('canvas');d.width=i.d.width,d.height=i.d.height,y(d).drawImage(i.f,0,0,i.f.naturalWidth,i.f.naturalHeight,0,0,d.width,d.height),i.k=i.e.createPattern(d,'repeat');for(var O=0,ea=[i.a,i.b],Ta=ea.length;O<Ta;O=O+1|0){var e=ea[O];r(e,'mousedown',function(f){for(var q=0,v=i.l,ba=v.length;q<ba;q=q+1|0){var k=v[q];k.fa(f)}}),r(e,'mousemove',function(g){for(var w=0,ca=i.l,Ra=ca.length;w<Ra;w=w+1|0){var p=ca[w];p.ga(g)}}),r(e,'mouseup',function(l){for(var N=0,da=i.l,Sa=da.length;N<Sa;N=N+1|0){var j=da[N];j.ha(l)}})}i.l=[new Za(i)]}function ab(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d}function bb(a){this.a=a,this.b=2,this.c=new ab(0,0,1,1)}function cb(a,b){this.a=a,this.b=b}function db(a,b){if(this.a=this.b=null,this.c=0,this.d=this.e=this.f=this.k=this.g=this.p=this.l=this.j=this.i=this.q=this.v=this.ba=this.w=null,a.width^a.height)throw new Error('Voronoi canvas parameter must be square. Size is ('+a.width+', '+a.height+')');if(!Ia(a.width))throw new Error('Voronoi canvas size must be a power of two. Size is '+a.width);
if(this.a=b,this.c=a.width,this.w=a,this.b=new fb(a),!this.b.a)throw new Error('Failed to initialize Wham');this.b.a.disable(2929);var c=this.b.a;Ha(c,'OES_texture_float'),c.disable(2929),this.e=new gb(this.b.a,'precision highp float;\n\nconst vec4 n = vec4(1.0, 0.0, 0.0, 1.0), m = vec4(0.0, 1.0, 0.0, 1.0), l = vec4(0.0, 0.0, 1.0, 1.0), r = vec4(0.0, 1.0, 1.0, 1.0), q = vec4(1.0, 0.0, 1.0, 1.0), p = vec4(1.0, 1.0, 0.0, 1.0), g = vec4(0.0, 0.0, 0.0, 1.0), o = vec4(1.0, 1.0, 1.0, 1.0);\nattribute vec2 quad;\n\nvoid main() {\n  gl_Position = vec4(quad, 0, 1.0);\n}\n','precision highp float;\n\nuniform sampler2D iCellGridTexture;\nuniform vec2 iCellGridSize;\nuniform int iStepSize;\nuniform bool iUseTorusDistanceForSeeds;\nconst vec4 n = vec4(1.0, 0.0, 0.0, 1.0), m = vec4(0.0, 1.0, 0.0, 1.0), l = vec4(0.0, 0.0, 1.0, 1.0), r = vec4(0.0, 1.0, 1.0, 1.0), q = vec4(1.0, 0.0, 1.0, 1.0), p = vec4(1.0, 1.0, 0.0, 1.0), g = vec4(0.0, 0.0, 0.0, 1.0), o = vec4(1.0, 1.0, 1.0, 1.0);\n\nbool f(float a, float b) {\n  return abs(a - b) < 1e-4;\n}\n\nbool s(vec2 a) {\n  return a.x >= 0.0 && a.y >= 0.0 && a.x <= 1.0 && a.y <= 1.0;\n}\n\nvec4 w() {\n  return vec4(-1.0, -1.0, -1.0, -1.0);\n}\n\nvec2 j(const vec4 a) {\n  return vec2(a.z, a.w);\n}\n\nbool i(const vec4 a) {\n  return!f(a.y, -1.0);\n}\n\nfloat t(vec2 a, vec2 b, vec2 c) {\n  float d = min(abs(a.x - b.x), c.x - abs(a.x - b.x)), e = min(abs(a.y - b.y), c.y - abs(a.y - b.y));\n  return sqrt(d * d + e * e);\n}\n\nvec4 h(const vec4 b, const vec2 z) {\n  vec2 c = (gl_FragCoord.xy + z) / iCellGridSize;\n  vec4 a = texture2D(iCellGridTexture, c);\n  a = !s(c) && !iUseTorusDistanceForSeeds ? w() : a;\n  if (!i(a))\n    return b;\n  else if (!i(b))\n    return a;\n  else {\n    vec2 d = j(b), e = j(a);\n    float A = iUseTorusDistanceForSeeds ? t(d, gl_FragCoord.xy, iCellGridSize) : distance(d, gl_FragCoord.xy), B = iUseTorusDistanceForSeeds ? t(e, gl_FragCoord.xy, iCellGridSize) : distance(e, gl_FragCoord.xy);\n    if (A > B)\n      return a;\n  }\n  return b;\n}\n\nvoid main() {\n  vec2 b = gl_FragCoord.xy / iCellGridSize;\n  vec4 a = texture2D(iCellGridTexture, b);\n  a = h(a, vec2(0, iStepSize)), a = h(a, vec2(iStepSize, iStepSize)), a = h(a, vec2(iStepSize, 0)), a = h(a, vec2(iStepSize, -iStepSize)), a = h(a, vec2(0, -iStepSize)), a = h(a, vec2(-iStepSize, -iStepSize)), a = h(a, vec2(-iStepSize, 0)), a = h(a, vec2(-iStepSize, iStepSize)), gl_FragColor = a;\n}\n'),
this.d=new gb(this.b.a,'precision highp float;\n\nconst vec4 n = vec4(1.0, 0.0, 0.0, 1.0), m = vec4(0.0, 1.0, 0.0, 1.0), l = vec4(0.0, 0.0, 1.0, 1.0), r = vec4(0.0, 1.0, 1.0, 1.0), q = vec4(1.0, 0.0, 1.0, 1.0), p = vec4(1.0, 1.0, 0.0, 1.0), g = vec4(0.0, 0.0, 0.0, 1.0), o = vec4(1.0, 1.0, 1.0, 1.0);\nattribute vec2 quad;\n\nvoid main() {\n  gl_Position = vec4(quad, 0, 1.0);\n}\n','precision highp float;\n\nuniform sampler2D iSeedInputTexture;\nuniform vec2 iGridSize;\nuniform vec4 iBackgroundColor;\nconst vec4 n = vec4(1.0, 0.0, 0.0, 1.0), m = vec4(0.0, 1.0, 0.0, 1.0), l = vec4(0.0, 0.0, 1.0, 1.0), r = vec4(0.0, 1.0, 1.0, 1.0), q = vec4(1.0, 0.0, 1.0, 1.0), p = vec4(1.0, 1.0, 0.0, 1.0), g = vec4(0.0, 0.0, 0.0, 1.0), o = vec4(1.0, 1.0, 1.0, 1.0);\n\nint y(int a, int b) {\n  return a * 256 + b;\n}\n\nbool f(float a, float b) {\n  return abs(a - b) < 1e-4;\n}\n\nbool D(vec4 a, vec4 b) {\n  return f(a.x, b.x) && f(a.y, b.y) && f(a.z, b.z) && f(a.w, b.w);\n}\n\nvec4 E(float a, float b, vec2 c) {\n  return vec4(a, b, c);\n}\n\nvec4 w() {\n  return vec4(-1.0, -1.0, -1.0, -1.0);\n}\n\nvoid main() {\n  vec2 b = gl_FragCoord.xy / iGridSize, c = vec2(b.x, 1.0 - b.y);\n  vec4 a = texture2D(iSeedInputTexture, c);\n  if (D(a, iBackgroundColor))\n    gl_FragColor = w();\n  else {\n    int d = y(int(a.r * 255.0), int(a.g * 255.0)), e = y(int(a.b * 255.0), int(a.a * 255.0));\n    gl_FragColor = E(float(d), float(e), gl_FragCoord.xy);\n  }\n}\n'),
this.g=new gb(this.b.a,'precision highp float;\n\nconst vec4 n = vec4(1.0, 0.0, 0.0, 1.0), m = vec4(0.0, 1.0, 0.0, 1.0), l = vec4(0.0, 0.0, 1.0, 1.0), r = vec4(0.0, 1.0, 1.0, 1.0), q = vec4(1.0, 0.0, 1.0, 1.0), p = vec4(1.0, 1.0, 0.0, 1.0), g = vec4(0.0, 0.0, 0.0, 1.0), o = vec4(1.0, 1.0, 1.0, 1.0);\nattribute vec2 quad;\n\nvoid main() {\n  gl_Position = vec4(quad, 0, 1.0);\n}\n','precision highp float;\n\nuniform sampler2D iInputTexture;\nuniform vec2 iResolution;\nconst vec4 n = vec4(1.0, 0.0, 0.0, 1.0), m = vec4(0.0, 1.0, 0.0, 1.0), l = vec4(0.0, 0.0, 1.0, 1.0), r = vec4(0.0, 1.0, 1.0, 1.0), q = vec4(1.0, 0.0, 1.0, 1.0), p = vec4(1.0, 1.0, 0.0, 1.0), g = vec4(0.0, 0.0, 0.0, 1.0), o = vec4(1.0, 1.0, 1.0, 1.0);\n\nvoid main() {\n  vec2 a = gl_FragCoord.xy / iResolution;\n  gl_FragColor = texture2D(iInputTexture, a);\n}\n'),this.f=new gb(this.b.a,'precision highp float;\n\nconst vec4 n = vec4(1.0, 0.0, 0.0, 1.0), m = vec4(0.0, 1.0, 0.0, 1.0), l = vec4(0.0, 0.0, 1.0, 1.0), r = vec4(0.0, 1.0, 1.0, 1.0), q = vec4(1.0, 0.0, 1.0, 1.0), p = vec4(1.0, 1.0, 0.0, 1.0), g = vec4(0.0, 0.0, 0.0, 1.0), o = vec4(1.0, 1.0, 1.0, 1.0);\nattribute vec2 quad;\n\nvoid main() {\n  gl_Position = vec4(quad, 0, 1.0);\n}\n',
'precision highp float;\n\nuniform sampler2D iCellGridTexture;\nuniform vec2 iGridSize, iCanvasSize;\nuniform int iRelease;\nuniform float iMinSeedDistanceThreshold;\nconst vec4 n = vec4(1.0, 0.0, 0.0, 1.0), m = vec4(0.0, 1.0, 0.0, 1.0), l = vec4(0.0, 0.0, 1.0, 1.0), r = vec4(0.0, 1.0, 1.0, 1.0), q = vec4(1.0, 0.0, 1.0, 1.0), p = vec4(1.0, 1.0, 0.0, 1.0), g = vec4(0.0, 0.0, 0.0, 1.0), o = vec4(1.0, 1.0, 1.0, 1.0);\n\nint C(int a, int b) {\n  return int(mod(float(a), float(b)));\n}\n\nvec2 x(int a) {\n  return vec2(a / 256, C(a, 256));\n}\n\nbool f(float a, float b) {\n  return abs(a - b) < 1e-4;\n}\n\nbool k(vec2 a, vec2 b, vec2 c) {\n  return a.x > b.x && a.x < c.x && a.y > b.y && a.y < c.y;\n}\n\nvec2 u(vec2 a) {\n  return iGridSize * gl_FragCoord.xy / iCanvasSize;\n}\n\nbool s(vec2 a) {\n  return a.x >= 0.0 && a.y >= 0.0 && a.x <= 1.0 && a.y <= 1.0;\n}\n\nvec4 F(const vec4 a) {\n  int b = int(a.x), c = int(a.y);\n  return vec4(x(b), x(c)) / 255.0;\n}\n\nvec2 j(const vec4 a) {\n  return vec2(a.z, a.w);\n}\n\nbool i(const vec4 a) {\n  return!f(a.y, -1.0);\n}\n\nvoid v(vec2 a) {\n  if (iRelease == 1)\n    return;\n  vec4 b = vec4(1.0, 0.5, 0.5, 1.0), c = vec4(0.5, 0.5, 1.0, 1.0), d = vec4(0.5, 1.0, 0.5, 1.0);\n  if (mod(a.x, 100.0) < 3.0 || mod(a.y, 100.0) < 3.0)\n    gl_FragColor = (b + gl_FragColor) / 2.0;\n  if (k(a.xy, vec2(0.0, 0.0), vec2(10.0, 10.0)))\n    gl_FragColor = (d + gl_FragColor) / 2.0;\n  if (k(a.xy, vec2(100.0, 100.0), vec2(110.0, 110.0)))\n    gl_FragColor = (c + gl_FragColor) / 2.0;\n}\n\nvoid main() {\n  vec2 a = u(gl_FragCoord.xy), c = a / iGridSize;\n  if (!s(c)) {\n    gl_FragColor = g, v(a);\n    return;\n  }\n  vec4 b = texture2D(iCellGridTexture, c);\n  if (!i(b))\n    discard;\n  else\n    gl_FragColor = iMinSeedDistanceThreshold > 0.0 && distance(j(b), a) > iMinSeedDistanceThreshold ? g : F(b);\n}\n'),
this.k=new gb(this.b.a,'precision highp float;\n\nconst vec4 n = vec4(1.0, 0.0, 0.0, 1.0), m = vec4(0.0, 1.0, 0.0, 1.0), l = vec4(0.0, 0.0, 1.0, 1.0), r = vec4(0.0, 1.0, 1.0, 1.0), q = vec4(1.0, 0.0, 1.0, 1.0), p = vec4(1.0, 1.0, 0.0, 1.0), g = vec4(0.0, 0.0, 0.0, 1.0), o = vec4(1.0, 1.0, 1.0, 1.0);\nattribute vec2 quad;\n\nvoid main() {\n  gl_Position = vec4(quad, 0, 1.0);\n}\n','precision highp float;\n\nuniform sampler2D iCellGridTexture;\nuniform vec2 iGridSize, iCanvasSize;\nuniform int iRelease;\nconst vec4 n = vec4(1.0, 0.0, 0.0, 1.0), m = vec4(0.0, 1.0, 0.0, 1.0), l = vec4(0.0, 0.0, 1.0, 1.0), r = vec4(0.0, 1.0, 1.0, 1.0), q = vec4(1.0, 0.0, 1.0, 1.0), p = vec4(1.0, 1.0, 0.0, 1.0), g = vec4(0.0, 0.0, 0.0, 1.0), o = vec4(1.0, 1.0, 1.0, 1.0);\n\nbool f(float a, float b) {\n  return abs(a - b) < 1e-4;\n}\n\nbool k(vec2 a, vec2 b, vec2 c) {\n  return a.x > b.x && a.x < c.x && a.y > b.y && a.y < c.y;\n}\n\nvec2 u(vec2 a) {\n  return iGridSize * gl_FragCoord.xy / iCanvasSize;\n}\n\nbool s(vec2 a) {\n  return a.x >= 0.0 && a.y >= 0.0 && a.x <= 1.0 && a.y <= 1.0;\n}\n\nvec2 j(const vec4 a) {\n  return vec2(a.z, a.w);\n}\n\nbool i(const vec4 a) {\n  return!f(a.y, -1.0);\n}\n\nfloat t(vec2 a, vec2 b, vec2 c) {\n  float d = min(abs(a.x - b.x), c.x - abs(a.x - b.x)), e = min(abs(a.y - b.y), c.y - abs(a.y - b.y));\n  return sqrt(d * d + e * e);\n}\n\nvoid v(vec2 a) {\n  if (iRelease == 1)\n    return;\n  vec4 b = vec4(1.0, 0.5, 0.5, 1.0), c = vec4(0.5, 0.5, 1.0, 1.0), d = vec4(0.5, 1.0, 0.5, 1.0);\n  if (mod(a.x, 100.0) < 3.0 || mod(a.y, 100.0) < 3.0)\n    gl_FragColor = (b + gl_FragColor) / 2.0;\n  if (k(a.xy, vec2(0.0, 0.0), vec2(10.0, 10.0)))\n    gl_FragColor = (d + gl_FragColor) / 2.0;\n  if (k(a.xy, vec2(100.0, 100.0), vec2(110.0, 110.0)))\n    gl_FragColor = (c + gl_FragColor) / 2.0;\n}\n\nvoid main() {\n  vec2 b = u(gl_FragCoord.xy), c = b / iGridSize;\n  if (!s(c)) {\n    gl_FragColor = g, v(b);\n    return;\n  }\n  vec4 d = texture2D(iCellGridTexture, c);\n  if (!i(d))\n    discard;\n  else {\n    vec2 e = j(d);\n    float a = t(e, b, iGridSize);\n    a = 1.0 - a / (iGridSize.x * 0.5), gl_FragColor = vec4(a, a, a, 1.0);\n  }\n}\n'),
this.p=new hb(c),Na(this.p,Ua,35044);var d=new jb(c,6408,10497,9728,5126);this.l=new kb(c,d),H(this.l,h(this),h(this)),this.j=new kb(c,d),H(this.j,h(this),h(this)),d=new jb(c,6408,10497,9729,5121),this.q=new kb(c,d),H(this.q,h(this),h(this)),d=new jb(c,6408,10497,9728,5121),this.i=new kb(c,d),H(this.i,this.c,this.c),this.v=Oa(c)}function fb(a){this.a=this.b=null,this.a=va(a),this.b=new ib(this.a,null)}function _a(a){this.a=a}function eb(){this.a=!1,this.b=1,this.c=-1}function gb(a,b,c){if(this.a=this.b=null,this.c=P(null),this.d=P(null),this.a=a,this.b=this.a.createProgram(),this.a.attachShader(this.b,_(this,35633,b)),this.a.attachShader(this.b,_(this,35632,c)),this.a.linkProgram(this.b),!this.a.getProgramParameter(this.b,35714))throw new Error(this.a.getProgramInfoLog(this.b))}function hb(a){this.b=null,this.c=0,this.d=-1,this.a=a,this.b=this.a.createBuffer(),this.c=34962}function ib(a,b){this.a=a,this.b=b}function jb(a,b,c,d,e){this.a=a,this.b=b,this.c=c,this.d=d,this.e=e}function kb(a,b){this.b=this.c=null,
this.a=a,this.b=Pa(b),this.c=this.a.createTexture(),this.a.bindTexture(3553,this.c),this.a.texParameteri(3553,10242,this.b.c),this.a.texParameteri(3553,10243,this.b.c),this.a.texParameteri(3553,10241,this.b.d),this.a.texParameteri(3553,10240,this.b.d)}var oa=[s(7051762),s(4814543),s(8428277),s(8305894),s(9011445),s(970239),s(5611513)],Ua=new Float32Array([-1,-1,1,-1,-1,1,1,1]);Wa()})();
