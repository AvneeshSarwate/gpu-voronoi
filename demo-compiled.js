(function(){var N=Object.create||function(a){return{__proto__:a}};var wb=Math.imul||function(a,b){return (a*(b>>>16)<<16)+a*(b&65535)|0};var sa;function fa(a,b){return a-b*Math.floor(a/b)}function Qa(a){return a!=0&&(a&a-1)==0}function oa(a,b){a.width=a.height=b*window.devicePixelRatio|0,a.style.width=a.style.height=b+'px'}function l(a,b,c){var d=a.getElementsByClassName(b)[0];return oa(d,c),d}function D(a,b){var c=null;try{c=new Lb(a,b)}catch(d){document.getElementById('demo-page').style.display='none',document.getElementById('webgl-error').style.display=null;throw d}return c}function Ua(a){var b=l(a,'input-canvas',256),c=l(a,'output-canvas',256),d=new Mb,e=D(c,d);new Ob(b,c,function(){B(e,b),I(e),H(e)})}function Va(a){var b=l(a,'input-canvas',256),c=l(a,'output-canvas',256),d=new Mb;d.a=!0;var e=D(c,d);new Pb(b,c,function(){B(e,b),I(e),H(e)})}function Wa(a){var b=l(a,'input-canvas',256),c=l(a,'output-canvas',256),d=new Mb,e=D(c,d);new Vb(b,c,function(f){B(e,f.d),I(e),H(e)})}function Xa(a){var b=l(a,'input-canvas',
256),c=l(a,'output-canvas',256),d=new Mb;d.a=!0;var e=D(c,d);new Pb(b,c,function(){B(e,b),I(e),Ra(e)})}function Ya(a){var b=l(a,'input-canvas',256),c=l(a,'output-canvas',256),d=new Mb;d.a=!0,d.b=15;var e=D(c,d);new Pb(b,c,function(){B(e,b),I(e),H(e)})}function Za(a){var b=l(a,'input-canvas',256),c=l(a,'output-canvas',256),d=new Mb,e=D(c,d),f=a.getElementsByClassName('jfa-round-label')[0],h=a.getElementsByClassName('jfa-round-slider')[0],g=Math.log2(256)+1|0;noUiSlider.create(h,s(s(s(N(null),'start',g),'step',1),'range',{min:1,max:g}));var i=function(x){f.textContent='Round #'+(h.noUiSlider.get()|0),B(e,b),Sa(e);for(var m=0;m<x;m=m+1|0)e.W();H(e)};h.noUiSlider.on('slide',function(){i(h.noUiSlider.get()|0)}),new Ob(b,c,function(){i(h.noUiSlider.get()|0)}),i(g)}function _a(a){var b=a.getElementsByTagName('canvas')[0];oa(b,256);var c=new Qb(b,256,16),d=a.getElementsByClassName('step-size-slider')[0],e=a.getElementsByClassName('step-size-label')[0],f=function(h){e.textContent='Round is '+h+' and step length is '+aa(2,
h)},g=Math.log2(8);noUiSlider.create(d,s(s(s(s(N(null),'start',g),'step',1),'direction','rtl'),'range',{min:0,max:g})),d.noUiSlider.on('slide',function(){f(d.noUiSlider.get()|0),c.e=aa(2,d.noUiSlider.get()|0)}),f(g)}function Nb(){p(window,'load',function(){Ua(document.getElementById('paint-demo-container')),Va(document.getElementById('fish-demo-container')),Wa(document.getElementById('photo-demo-container')),_a(document.getElementById('jfa-pattern-demo-container')),Za(document.getElementById('slider-demo-container')),Xa(document.getElementById('distance-demo-container')),Ya(document.getElementById('threshold-demo-container'))})}function Aa(a){var b=a.getBoundingClientRect();return b.bottom>-1&&b.right>-1&&b.top<=window.innerHeight&&b.left<=window.innerWidth}function ba(a,b){var c=null,d=function(){if(Aa(a)){var e=new Date,f=c?+e-+c:1/30;b(f),c=e}requestAnimationFrame(d)};requestAnimationFrame(d)}function t(a){return 'rgba('+(a.a*255|0)+', '+(a.b*255|0)+', '+(a.c*255|0)+', '+a.d+')'}function k(a){return new xb((a>>16&255)/255,
(a>>8&255)/255,(a&255)/255,1)}function O(a){a.b?a.b.stopPropagation():a.c.stopPropagation()}function P(a){return a.b?a.b.target:a.c.target}function n(c){var a=P(c).getBoundingClientRect(),b=null;return b=c.b?new Eb(c.b.clientX,c.b.clientY):new Eb(T(c.c.touches)[0].clientX,T(c.c.touches)[0].clientY),o(b,new Eb(a.left,a.top))}function y(i,a){p(a,'mousedown',function(b){ca(i,new yb(i,b,null)),w(b)}),p(a,'mousemove',function(c){da(i,new yb(i,c,null)),w(c)}),p(a,'mouseup',function(d){Q(i,new yb(i,d,null)),w(d)}),p(a,'mouseleave',function(e){Q(i,new yb(i,e,null)),w(e)}),p(a,'touchstart',function(f){ca(i,new yb(i,null,f)),w(f)}),p(a,'touchmove',function(h){da(i,new yb(i,null,h)),w(h)}),p(a,'touchend',function(g){Q(i,new yb(i,null,g)),w(g)})}function ca(c,a){for(var d=0,e=c.a,f=e.length;d<f;d=d+1|0){var b=e[d];b.xa(a)}}function Q(c,a){for(var d=0,e=c.a,f=e.length;d<f;d=d+1|0){var b=e[d];b.za(a)}}function da(c,a){for(var d=0,e=c.a,f=e.length;d<f;d=d+1|0){var b=e[d];b.ya(a)}}function ea(b,a){a.beginPath(),a.rect(b.a.a-(b.b/2|0)|0,
b.a.b-(b.b/2|0)|0,b.b,b.b),a.fillStyle=t(b.c),a.fill(),a.closePath()}function Ca(b,a){return new Eb(b.a+a.a,b.b+a.b)}function o(b,a){return new Eb(b.a-a.a,b.b-a.b)}function Da(b,a){return new Eb(b.a-a,b.b-a)}function ga(b,a){return new Eb(b.a*a,b.b*a)}function Ea(b,a){return new Eb(b.a/a,b.b/a)}function ha(b,a){b.a+=a.a,b.b+=a.b}function Fa(b,a){b.a=fa(b.a,a.a),b.b=fa(b.b,a.b)}function Ga(b,a){b.a*=a,b.b*=a}function Ha(b,a){return new Eb(b.a*Math.cos(a)-b.b*Math.sin(a),b.b*Math.cos(a)+b.a*Math.sin(a))}function Ia(a){return Ea(a,u(a))}function Ja(a){return Math.atan2(a.b,a.a)}function u(a){return Math.sqrt(a.a*a.a+a.b*a.b)}function ia(a){return new Eb(a.a,a.b)}function ja(d,a,b){var c=d.a.createShader(a);if(d.a.shaderSource(c,b),d.a.compileShader(c),!d.a.getShaderParameter(c,35713)){console.error(d.a.getShaderInfoLog(c));throw new Error('Failed to create shader')}return c}function F(a){return a.a.useProgram(a.b),a}function q(d,a,b){var c=R(d,a);return d.a.uniform1i(c,b),d}function Ka(d,a,b){var c=R(d,a);return d.a.uniform1f(c,
b),d}function z(d,a,b){var c=R(d,a);if(b.length^2){if(b.length^3){if(b.length^4)throw new Error('Invalid size of value: '+b.length);else d.a.uniform4fv(c,b)}else d.a.uniform3fv(c,b)}else d.a.uniform2fv(c,b);return d}function G(f,a,b,c,d){var e=La(f,a);return ka(b),f.a.enableVertexAttribArray(e),f.a.vertexAttribPointer(e,c,5126,!1,d,0),f}function La(b,a){return a in b.d||(b.d[a]=b.a.getAttribLocation(b.b,a)),b.d[a]}function R(b,a){return a in b.c||(b.c[a]=b.a.getUniformLocation(b.b,a)),b.c[a]}function ka(a){a.a.bindBuffer(a.c,a.b)}function Ma(c,a,b){ka(c),c.d^a.byteLength?(c.a.bufferData(c.c,a,b),c.d=a.byteLength):c.a.bufferSubData(c.c,0,a)}function Na(a){return new Ib(a,a.createFramebuffer())}function la(a){a.a.bindFramebuffer(36160,a.b)}function L(b,a){la(b),b.a.framebufferTexture2D(36160,36064,3553,a.c,0)}function Oa(a){return new Jb(a.a,a.b,a.c,a.d,a.e)}function S(a){a.a.bindTexture(3553,a.c)}function A(b,a){b.a.activeTexture(33984+a),S(b)}function M(c,a,b){S(c),c.a.texImage2D(3553,0,c.b.b,a,b,0,c.b.b,c.b.e,
null)}function ma(b,a){S(b),b.a.texImage2D(3553,0,b.b.b,b.b.b,b.b.e,a)}function B(b,a){b.X=a,L(b.J,b.x),ma(b.r,a),A(b.r,0),b.b.a.viewport(0,0,b.c,b.c),z(z(q(G(F(b.d),'quad',b.i,2,0),'iSeedInputTexture',0),'iGridSize',new Float32Array([b.c,b.c])),'iBackgroundColor',new Float32Array([0,0,0,0])).a.drawArrays(5,0,4)}function H(a){L(a.J,a.E),ma(a.r,a.X),A(a.r,0),A(a.m,1),a.b.a.viewport(0,0,a.c,a.c),Ka(z(q(q(G(F(a.f),'quad',a.i,2,0),'iSeedInputTexture',0),'iCellGridTexture',1),'iGridSize',new Float32Array([a.c,a.c])),'iMinSeedDistanceThreshold',a.a.b*window.devicePixelRatio).a.drawArrays(5,0,4),na(a)}function Ra(a){L(a.J,a.E),A(a.m,0),a.b.a.viewport(0,0,a.c,a.c),z(q(G(F(a.h),'quad',a.i,2,0),'iCellGridTexture',0),'iGridSize',new Float32Array([a.c,a.c])).a.drawArrays(5,0,4),na(a)}function na(a){la(a.b.b),A(a.E,0),a.b.a.viewport(0,0,a.K.width,a.K.height),z(q(G(F(a.g),'quad',a.i,2,0),'iTexture',0),'iResolution',new Float32Array([a.K.width,a.K.height])).a.drawArrays(5,0,4)}function I(b){for(var a=b.c/2|0;a>0;)C(b,a),a=a/2|0;
C(b,2),C(b,1)}function Sa(b){var a=b.c/2|0;b.W=function(){a>=1?(C(b,a|0),a/=2):a<1&&(C(b,2),C(b,1))}}function C(b,a){L(b.J,b.m),A(b.x,0),b.b.a.viewport(0,0,b.c,b.c),q(z(q(q(G(F(b.e),'quad',b.i,2,0),'iCellGridTexture',0),'iStepSize',a),'iCellGridSize',new Float32Array([b.c,b.c])),'iUseTorusDistanceForSeeds',b.a.a?1:0).a.drawArrays(5,0,4),Ta(b)}function Ta(b){var a=b.x;b.x=b.m,b.m=a}function U(d,a){var b=d.a.getBoundingClientRect();if(a.a>0&&a.b>0&&a.a<b.width&&a.b<b.height){var c=new xb(.5+Math.random()*.4,.2,.3+Math.random()*.5,1);d.c.beginPath(),d.c.rect(a.a-1|0,a.b-1|0,2,2),d.c.fillStyle=t(c),d.c.fill(),d.d&&d.d()}}function ab(b){ba(b.a,function(a){bb(b,a)})}function bb(g,a){var b=a/1000,c=g.a.getBoundingClientRect();g.c.clearRect(0,0,c.width,c.height);for(var d=1,x=g.f.length;d<x;d=d+1|0){var e=g.f[d];e.a.a+=g.h[d]*b,e.a.b-=g.h[d]*b;for(var f=1,i=g.f.length;f<i;f=f+1|0)d^f&&u(o(e.a,g.f[f].a))<40&&ha(e.a,ga(ga(Ia(o(e.a,g.f[f].a)),b),5));Fa(e.a,new Eb(c.width,c.height))}for(var m=0,r=g.f,E=r.length;m<E;m=m+1|0){
var h=r[m];ea(h,g.c)}ea(g.g,g.c),g.d&&g.d()}function cb(a){return new Sb(a.a,a.b)}function db(a,b,c){var d=Math.atan2(c.b-b.b|0,c.a-b.a|0);a.moveTo(b.a,b.b),a.lineTo(c.a,c.b),a.stroke();var e=new Eb(c.a-Math.cos(d-.5235987755982988)*10,c.b-Math.sin(d-.5235987755982988)*10),f=new Eb(c.a-Math.cos(d+.5235987755982988)*10,c.b-Math.sin(d+.5235987755982988)*10);a.beginPath(),a.moveTo(c.a,c.b),a.lineTo(e.a,e.b),a.lineTo(f.a,f.b),a.fill()}function eb(c,a){var b=cb(a);return b.b=c.e,b.a.a=b.a.a+1|0,b.a.a^c.b||(b.a.a=0,b.a.b=b.a.b+1|0),b.a.b^c.b||(b.a.b=0),b}function fb(j,a){if(j.f+=a,j.f>100){j.f-=100,j.d=eb(j,j.d);var b=j.c/j.b|0,c=v(j.a);c.clearRect(0,0,j.c,j.c),c.beginPath(),c.lineWidth=1;for(var d=0,lb=j.b+1|0;d<lb;d=d+1|0)c.moveTo(0,wb(b,d)),c.lineTo(j.c,wb(b,d));for(var e=0,mb=j.b+1|0;e<mb;e=e+1|0)c.moveTo(wb(b,e),0),c.lineTo(wb(b,e),j.c);c.strokeStyle=t(rb),c.stroke(),c.beginPath(),c.rect(0,0,j.c-1|0,j.c-1|0),c.strokeStyle=t(sb),c.stroke(),c.beginPath(),c.rect(wb(j.d.a.a,b),wb(j.d.a.b,b),b,b),c.strokeStyle=t(Ba),
c.stroke(),c.beginPath(),c.lineWidth=1,c.strokeStyle=t(tb);for(var f=j.d.b,Z=0,ua=[-f|0,0,f],ob=ua.length;Z<ob;Z=Z+1|0)for(var h=ua[Z],Y=0,ta=[-f|0,0,f],nb=ta.length;Y<nb;Y=Y+1|0){var g=ta[Y],i=j.d.a.a+h|0,x=j.d.a.b+g|0;c.rect(wb(i,b)+1|0,wb(x,b)+1|0,b-2|0,b-2|0)}c.stroke(),c.beginPath(),c.lineWidth=1,c.strokeStyle=t(Ba),c.fillStyle='white';for(var $=0,wa=[-f|0,0,f],qb=wa.length;$<qb;$=$+1|0)for(var m=wa[$],_=0,va=[-f|0,0,f],pb=va.length;_<pb;_=_+1|0){var r=va[_];if(m||r){var E=j.d.a.a+m|0,J=j.d.a.b+r|0,W=wb(E,b),X=wb(J,b),K=m^-f?m?b:b/2|0:0,gb=r^-f?r?b:b/2|0:0;db(c,new Rb(wb(j.d.a.a,b)+K|0,wb(j.d.a.b,b)+gb|0),new Rb(W+(b/2|0)|0,X+(b/2|0)|0))}}}}function pa(d){kb(d.a);for(var a=Ja(o(d.d,d.e)),e=0,f=d.b,h=f.length;e<h;e=e+1|0){var b=f[e],c=ia(b);Ga(c,Math.max(u(o(d.e,d.d))/50*2,.5)),c=Ha(c,a),ha(c,d.e),hb(d,c)}V(d),d.a.g(d.a)}function V(h){var a=h.a.c,b=h.d,c=h.e;a.beginPath(),a.lineWidth=1,a.moveTo(b.a|0,b.b|0),a.lineTo(c.a|0,c.b|0),a.strokeStyle='#A5A3A3',a.stroke();var d='#46C9FF',e='#46C9FF';u(o(h.f,h.d))<10?e=h.c?'#0F86B7':'#ACE7FF':u(o(h.f,
h.e))<12&&(d=h.c?'#0F86B7':'#ACE7FF'),a.beginPath(),a.arc(c.a,c.b,6,0,6.283185307179586),a.fillStyle='#FFF',a.fill(),a.lineWidth=2,a.strokeStyle=d,a.stroke();var f=Da(b,4);a.beginPath(),a.rect(f.a,f.b,8,8),a.fillStyle='#FFF',a.fill(),a.lineWidth=2,a.strokeStyle=e,a.stroke()}function qa(c,a){switch(c.c.a){case 0:var b=o(c.d,c.e);c.e=n(a),c.d=Ca(c.e,b);break;case 1:c.d=n(a);break}pa(c)}function hb(c,a){var b=c.a.a.getBoundingClientRect().width;a.a>0&&a.b>0&&a.a<b&&a.b<b&&ra(c.a,a)}function ib(e,a,b,c,d){a.fillStyle=c,jb(e,a,b,d)}function jb(d,a,b,c){a.beginPath(),a.rect(b.a|0,b.b|0,c,c),a.fill()}function kb(b){var a=b.a.getBoundingClientRect();b.c.clearRect(0,0,a.width,a.height),b.e.clearRect(0,0,b.d.width,b.d.height)}function ra(b,a){ib(b,b.c,a,'rgba(255, 255, 255, 0.7)',2),b.e.fillStyle=b.h,b.e.beginPath(),b.e.rect(a.a*window.devicePixelRatio|0,a.b*window.devicePixelRatio|0,1,1),b.e.fill()}function T(a){for(var b=[],c=0,d=a.length;c<d;c=c+1|0)b.push(a[c]);return b}function p(a,b,c){a.addEventListener(b,c)}function w(a){
a.preventDefault()}function aa(d,a){for(var b=d,c=a<0?0:1;a>0;)a&1&&(c=wb(c,b)),a>>=1,b=wb(b,b);return c}function s(c,a,b){return c[a]=b,c}function v(a){try{return a.getContext('2d')}catch(b){}return null}function Pa(a){try{return a.getContext('webgl')}catch(b){}try{return a.getContext('experimental-webgl')}catch(c){}return null}function xb(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d}function yb(a,b,c){this.a=a,this.b=b,this.c=c}function zb(a,b,c){this.a=a,this.b=b,this.c=c}sa=zb.prototype;sa.xa=function(a){this.a&&this.a(a)};sa.ya=function(a){this.b&&this.b(a)};sa.za=function(a){this.c&&this.c(a)};function Ab(a){this.a=a}function Bb(){var d=this;d.a=new Ab(!1),p(window,'load',function(){document.addEventListener('mousedown',function(a){d.a.a=!0},!0),document.addEventListener('mouseup',function(b){d.a.a=!1}),document.addEventListener('mouseout',function(c){!c.toElement&&!c.relatedTarget&&(d.a.a=!1)})})}function Cb(){this.a=[]}function Db(a){this.a=a,this.b=2,this.c=new xb(0,0,1,1)}function Eb(a,b){this.a=a,this.b=b}
function Fb(a){this.a=this.b=null,this.a=Pa(a),this.b=new Ib(this.a,null)}function Lb(a,b){if(this.a=this.b=null,this.c=0,this.d=this.e=this.f=this.h=this.g=this.i=this.x=this.m=this.r=this.E=this.J=this.W=this.X=this.K=null,a.width^a.height)throw new Error('Voronoi canvas parameter must be square. Size is ('+a.width+', '+a.height+')');if(!Qa(a.width))throw new Error('Voronoi canvas size must be a power of two. Size is '+a.width);if(this.a=b,this.c=a.width,this.K=a,this.b=new Fb(a),!this.b.a)throw new Error('Failed to initialize Wham');this.b.a.disable(2929);var c=this.b.a;c.disable(2929),this.e=new Gb(this.b.a,'precision highp float;\nprecision highp int;\n\nconst vec4 l = vec4(1.0, 0.0, 0.0, 1.0), o = vec4(0.0, 1.0, 0.0, 1.0), s = vec4(0.0, 0.0, 1.0, 1.0), m = vec4(0.0, 1.0, 1.0, 1.0), r = vec4(1.0, 0.0, 1.0, 1.0), q = vec4(1.0, 1.0, 0.0, 1.0), j = vec4(0.0, 0.0, 0.0, 1.0), i = vec4(1.0, 1.0, 1.0, 1.0);\nattribute vec2 quad;\n\nvoid main() {\n  gl_Position = vec4(quad, 0, 1.0);\n}\n','precision highp float;\nprecision highp int;\n\nuniform sampler2D iCellGridTexture;\nuniform vec2 iCellGridSize;\nuniform int iStepSize;\nuniform bool iUseTorusDistanceForSeeds;\nconst vec4 l = vec4(1.0, 0.0, 0.0, 1.0), o = vec4(0.0, 1.0, 0.0, 1.0), s = vec4(0.0, 0.0, 1.0, 1.0), m = vec4(0.0, 1.0, 1.0, 1.0), r = vec4(1.0, 0.0, 1.0, 1.0), q = vec4(1.0, 1.0, 0.0, 1.0), j = vec4(0.0, 0.0, 0.0, 1.0), i = vec4(1.0, 1.0, 1.0, 1.0);\n\nint x(int a, int b) {\n  return int(mod(float(a), float(b)));\n}\n\nint g(ivec2 a) {\n  return a.x * 256 + a.y;\n}\n\nivec2 n(int a) {\n  return ivec2(a / 256, x(a, 256));\n}\n\nbool v(vec2 a) {\n  return a.x >= 0.0 && a.y >= 0.0 && a.x <= 1.0 && a.y <= 1.0;\n}\n\nvec4 u(const ivec2 a) {\n  ivec2 b = n(a.x), c = n(a.y);\n  return vec4(vec2(b) / 255.0, vec2(c) / 255.0);\n}\n\nvec4 w() {\n  return u(ivec2(21000, 21000));\n}\n\nvec2 f(const vec4 a) {\n  int b = g(ivec2(a.rg * 255.0)), c = g(ivec2(a.ba * 255.0));\n  return vec2(b, c);\n}\n\nbool p(const vec4 a) {\n  vec2 b = f(a);\n  return b.x < 2e+4;\n}\n\nfloat k(vec2 a, vec2 b, vec2 c) {\n  float d = min(abs(a.x - b.x), c.x - abs(a.x - b.x)), e = min(abs(a.y - b.y), c.y - abs(a.y - b.y));\n  return sqrt(d * d + e * e);\n}\n\nvec4 h(const vec4 b, const vec2 y) {\n  vec2 c = (gl_FragCoord.xy + y) / iCellGridSize;\n  vec4 a = texture2D(iCellGridTexture, c);\n  a = !v(c) && !iUseTorusDistanceForSeeds ? w() : a;\n  if (!p(a))\n    return b;\n  else if (!p(b))\n    return a;\n  else {\n    vec2 d = f(b), e = f(a);\n    float A = iUseTorusDistanceForSeeds ? k(d, gl_FragCoord.xy, iCellGridSize) : distance(d, gl_FragCoord.xy), B = iUseTorusDistanceForSeeds ? k(e, gl_FragCoord.xy, iCellGridSize) : distance(e, gl_FragCoord.xy);\n    if (A > B)\n      return a;\n  }\n  return b;\n}\n\nvoid main() {\n  vec2 b = gl_FragCoord.xy / iCellGridSize;\n  vec4 a = texture2D(iCellGridTexture, b);\n  a = h(a, vec2(0, iStepSize)), a = h(a, vec2(iStepSize, iStepSize)), a = h(a, vec2(iStepSize, 0)), a = h(a, vec2(iStepSize, -iStepSize)), a = h(a, vec2(0, -iStepSize)), a = h(a, vec2(-iStepSize, -iStepSize)), a = h(a, vec2(-iStepSize, 0)), a = h(a, vec2(-iStepSize, iStepSize)), gl_FragColor = a;\n}\n'),
this.d=new Gb(this.b.a,'precision highp float;\nprecision highp int;\n\nconst vec4 l = vec4(1.0, 0.0, 0.0, 1.0), o = vec4(0.0, 1.0, 0.0, 1.0), s = vec4(0.0, 0.0, 1.0, 1.0), m = vec4(0.0, 1.0, 1.0, 1.0), r = vec4(1.0, 0.0, 1.0, 1.0), q = vec4(1.0, 1.0, 0.0, 1.0), j = vec4(0.0, 0.0, 0.0, 1.0), i = vec4(1.0, 1.0, 1.0, 1.0);\nattribute vec2 quad;\n\nvoid main() {\n  gl_Position = vec4(quad, 0, 1.0);\n}\n','precision highp float;\nprecision highp int;\n\nuniform sampler2D iSeedInputTexture;\nuniform vec2 iGridSize;\nuniform vec4 iBackgroundColor;\nconst vec4 l = vec4(1.0, 0.0, 0.0, 1.0), o = vec4(0.0, 1.0, 0.0, 1.0), s = vec4(0.0, 0.0, 1.0, 1.0), m = vec4(0.0, 1.0, 1.0, 1.0), r = vec4(1.0, 0.0, 1.0, 1.0), q = vec4(1.0, 1.0, 0.0, 1.0), j = vec4(0.0, 0.0, 0.0, 1.0), i = vec4(1.0, 1.0, 1.0, 1.0);\n\nint x(int a, int b) {\n  return int(mod(float(a), float(b)));\n}\n\nivec2 n(int a) {\n  return ivec2(a / 256, x(a, 256));\n}\n\nbool t(float a, float b) {\n  return abs(a - b) < 1e-4;\n}\n\nbool z(vec4 a, vec4 b) {\n  return t(a.x, b.x) && t(a.y, b.y) && t(a.z, b.z) && t(a.w, b.w);\n}\n\nvec4 u(const ivec2 a) {\n  ivec2 b = n(a.x), c = n(a.y);\n  return vec4(vec2(b) / 255.0, vec2(c) / 255.0);\n}\n\nvec4 w() {\n  return u(ivec2(21000, 21000));\n}\n\nvoid main() {\n  vec2 a = gl_FragCoord.xy / iGridSize, b = vec2(a.x, 1.0 - a.y);\n  vec4 c = texture2D(iSeedInputTexture, b);\n  gl_FragColor = z(c, iBackgroundColor) ? w() : u(ivec2(gl_FragCoord.xy));\n}\n'),
this.g=new Gb(this.b.a,'precision highp float;\nprecision highp int;\n\nconst vec4 l = vec4(1.0, 0.0, 0.0, 1.0), o = vec4(0.0, 1.0, 0.0, 1.0), s = vec4(0.0, 0.0, 1.0, 1.0), m = vec4(0.0, 1.0, 1.0, 1.0), r = vec4(1.0, 0.0, 1.0, 1.0), q = vec4(1.0, 1.0, 0.0, 1.0), j = vec4(0.0, 0.0, 0.0, 1.0), i = vec4(1.0, 1.0, 1.0, 1.0);\nattribute vec2 quad;\n\nvoid main() {\n  gl_Position = vec4(quad, 0, 1.0);\n}\n','precision highp float;\nprecision highp int;\n\nuniform sampler2D iInputTexture;\nuniform vec2 iResolution;\nconst vec4 l = vec4(1.0, 0.0, 0.0, 1.0), o = vec4(0.0, 1.0, 0.0, 1.0), s = vec4(0.0, 0.0, 1.0, 1.0), m = vec4(0.0, 1.0, 1.0, 1.0), r = vec4(1.0, 0.0, 1.0, 1.0), q = vec4(1.0, 1.0, 0.0, 1.0), j = vec4(0.0, 0.0, 0.0, 1.0), i = vec4(1.0, 1.0, 1.0, 1.0);\n\nvoid main() {\n  vec2 a = gl_FragCoord.xy / iResolution;\n  gl_FragColor = texture2D(iInputTexture, a);\n}\n'),this.f=new Gb(this.b.a,'precision highp float;\nprecision highp int;\n\nconst vec4 l = vec4(1.0, 0.0, 0.0, 1.0), o = vec4(0.0, 1.0, 0.0, 1.0), s = vec4(0.0, 0.0, 1.0, 1.0), m = vec4(0.0, 1.0, 1.0, 1.0), r = vec4(1.0, 0.0, 1.0, 1.0), q = vec4(1.0, 1.0, 0.0, 1.0), j = vec4(0.0, 0.0, 0.0, 1.0), i = vec4(1.0, 1.0, 1.0, 1.0);\nattribute vec2 quad;\n\nvoid main() {\n  gl_Position = vec4(quad, 0, 1.0);\n}\n',
'precision highp float;\nprecision highp int;\n\nuniform sampler2D iCellGridTexture, iSeedInputTexture;\nuniform vec2 iGridSize;\nuniform float iMinSeedDistanceThreshold;\nconst vec4 l = vec4(1.0, 0.0, 0.0, 1.0), o = vec4(0.0, 1.0, 0.0, 1.0), s = vec4(0.0, 0.0, 1.0, 1.0), m = vec4(0.0, 1.0, 1.0, 1.0), r = vec4(1.0, 0.0, 1.0, 1.0), q = vec4(1.0, 1.0, 0.0, 1.0), j = vec4(0.0, 0.0, 0.0, 1.0), i = vec4(1.0, 1.0, 1.0, 1.0);\n\nint g(ivec2 a) {\n  return a.x * 256 + a.y;\n}\n\nvec2 f(const vec4 a) {\n  int b = g(ivec2(a.rg * 255.0)), c = g(ivec2(a.ba * 255.0));\n  return vec2(b, c);\n}\n\nbool p(const vec4 a) {\n  vec2 b = f(a);\n  return b.x < 2e+4;\n}\n\nfloat k(vec2 a, vec2 b, vec2 c) {\n  float d = min(abs(a.x - b.x), c.x - abs(a.x - b.x)), e = min(abs(a.y - b.y), c.y - abs(a.y - b.y));\n  return sqrt(d * d + e * e);\n}\n\nvoid main() {\n  vec2 d = gl_FragCoord.xy / iGridSize;\n  vec4 a = texture2D(iCellGridTexture, d);\n  vec2 b = f(a) + vec2(0.5);\n  float e = k(b, gl_FragCoord.xy, iGridSize);\n  if (p(a) && iMinSeedDistanceThreshold < 0.0 || e < iMinSeedDistanceThreshold) {\n    vec2 c = b / iGridSize, y = vec2(c.x, 1.0 - c.y);\n    gl_FragColor = texture2D(iSeedInputTexture, y);\n  }\n  else\n    gl_FragColor = p(a) ? j : i;\n}\n'),
this.h=new Gb(this.b.a,'precision highp float;\nprecision highp int;\n\nconst vec4 l = vec4(1.0, 0.0, 0.0, 1.0), o = vec4(0.0, 1.0, 0.0, 1.0), s = vec4(0.0, 0.0, 1.0, 1.0), m = vec4(0.0, 1.0, 1.0, 1.0), r = vec4(1.0, 0.0, 1.0, 1.0), q = vec4(1.0, 1.0, 0.0, 1.0), j = vec4(0.0, 0.0, 0.0, 1.0), i = vec4(1.0, 1.0, 1.0, 1.0);\nattribute vec2 quad;\n\nvoid main() {\n  gl_Position = vec4(quad, 0, 1.0);\n}\n','precision highp float;\nprecision highp int;\n\nuniform sampler2D iCellGridTexture;\nuniform vec2 iGridSize;\nconst vec4 l = vec4(1.0, 0.0, 0.0, 1.0), o = vec4(0.0, 1.0, 0.0, 1.0), s = vec4(0.0, 0.0, 1.0, 1.0), m = vec4(0.0, 1.0, 1.0, 1.0), r = vec4(1.0, 0.0, 1.0, 1.0), q = vec4(1.0, 1.0, 0.0, 1.0), j = vec4(0.0, 0.0, 0.0, 1.0), i = vec4(1.0, 1.0, 1.0, 1.0);\n\nint g(ivec2 a) {\n  return a.x * 256 + a.y;\n}\n\nbool v(vec2 a) {\n  return a.x >= 0.0 && a.y >= 0.0 && a.x <= 1.0 && a.y <= 1.0;\n}\n\nvec2 f(const vec4 a) {\n  int b = g(ivec2(a.rg * 255.0)), c = g(ivec2(a.ba * 255.0));\n  return vec2(b, c);\n}\n\nfloat k(vec2 a, vec2 b, vec2 c) {\n  float d = min(abs(a.x - b.x), c.x - abs(a.x - b.x)), e = min(abs(a.y - b.y), c.y - abs(a.y - b.y));\n  return sqrt(d * d + e * e);\n}\n\nvoid main() {\n  vec2 b = gl_FragCoord.xy / iGridSize;\n  if (!v(b)) {\n    gl_FragColor = l;\n    return;\n  }\n  vec4 c = texture2D(iCellGridTexture, b);\n  vec2 d = f(c);\n  float a = k(d, gl_FragCoord.xy, iGridSize);\n  a = 1.0 - a / (iGridSize.x * 0.5), gl_FragColor = vec4(a, a, a, 1.0);\n}\n'),
this.i=new Hb(c),Ma(this.i,vb,35044);var d=new Jb(c,6408,10497,9728,5121);this.x=new Kb(c,d),M(this.x,this.c,this.c),this.m=new Kb(c,d),M(this.m,this.c,this.c),d=new Jb(c,6408,10497,9729,5121),this.E=new Kb(c,d),M(this.E,this.c,this.c),d=new Jb(c,6408,10497,9728,5121),this.r=new Kb(c,d),M(this.r,this.c,this.c),this.J=Na(c)}function Ob(a,b,c){var h=this;h.a=h.b=h.c=h.d=null,h.e=new Cb,h.a=a,h.b=b,h.d=c,h.a.style.backgroundColor='white',h.c=v(h.a),h.c.scale(window.devicePixelRatio,window.devicePixelRatio),y(h.e,h.a),y(h.e,h.b),h.e.a.push(new zb(function(d){(P(d)==h.a||P(d)==h.b)&&U(h,n(d))},null,null)),h.e.a.push(new zb(null,function(e){new Ab(ub.a.a).a&&U(h,n(e))},null));var f=h.a.getBoundingClientRect();U(h,new Eb(f.width/2|0,f.height/2|0))}function Pb(a,b,c){var g=this;g.a=g.b=g.c=g.d=null,g.e=12,g.f=[],g.h=[],g.g=null,g.i=new Cb,g.a=a,g.b=b,g.d=c,g.c=v(g.a),g.c.scale(window.devicePixelRatio,window.devicePixelRatio);for(var d=g.a.getBoundingClientRect(),e=1,i=g.e;e<i;e=e+1|0)g.f.push(new Db(new Eb(Math.random()*d.width,
Math.random()*d.height))),g.f[g.f.length-1|0].c=$a[e%$a.length|0],g.h.push(15+Math.random()*8);g.g=new Db(new Eb(Math.random()*d.width,Math.random()*d.height)),g.g.c=k(16771345),y(g.i,g.a),y(g.i,g.b),g.i.a.push(new zb(function(f){g.g.a=n(f)},null,null)),g.i.a.push(new zb(null,function(h){g.g.a=n(h)},null)),ab(g)}function Qb(a,b,c){var e=this;e.b=e.c=0,e.d=null,e.e=0,e.f=0,e.a=a,v(e.a).scale(window.devicePixelRatio,window.devicePixelRatio),e.c=b,e.b=c,e.d=new Sb(new Rb(c-1|0,c-1|0),c/2|0),e.e=c/2|0,ba(a,function(d){fb(e,d)})}function Tb(a){this.a=null,this.b=[],this.c=null,this.d=new Eb(0,0),this.e=new Eb(0,0),this.f=new Eb(0,0),this.a=a;var b=this.a.a.getBoundingClientRect(),c=new Eb(b.width,b.height);this.e=new Eb(c.a/2,c.b/2),this.d=ia(this.e),this.d.b-=50;for(var d=0;d<20;d=d+1|0)for(var e=wb(d,d),f=0;f<10;f++){var h=e*Math.cos(f/10*3.141592653589793*2),g=e*Math.sin(f/10*3.141592653589793*2);h+=Math.random()*30-15,g+=Math.random()*30-15,this.b.push(new Eb(h,g))}pa(this)}sa=Tb.prototype;sa.xa=function(a){this.f=n(a);
var b=n(a);this.c=u(o(this.d,b))<u(o(this.e,b))?new Ub(1):new Ub(0),O(a),qa(this,a)};sa.ya=function(a){this.f=n(a),this.c?qa(this,a):V(this),O(a)};sa.za=function(a){ra(this.a,n(a)),this.c=null,this.f=n(a),V(this),O(a)};function Vb(a,b,c){this.a=this.b=this.c=this.d=this.e=this.f=this.h=this.g=null,this.i=new Cb,this.a=a,this.b=b,y(this.i,this.a),y(this.i,this.b),this.g=c,this.c=v(this.a),this.c.scale(window.devicePixelRatio,window.devicePixelRatio),this.d=document.createElement('canvas'),this.e=v(this.d),this.d.width=this.a.width,this.d.height=this.a.height,this.f=document.getElementById('eye');var d=document.createElement('canvas');d.width=this.d.width,d.height=this.d.height,v(d).drawImage(this.f,0,0,this.f.naturalWidth,this.f.naturalHeight,0,0,d.width,d.height),this.h=this.e.createPattern(d,'repeat'),this.i.a.push(new Tb(this))}function Gb(a,b,c){if(this.a=this.b=null,this.c=N(null),this.d=N(null),this.a=a,this.b=this.a.createProgram(),this.a.attachShader(this.b,ja(this,35633,b)),this.a.attachShader(this.b,ja(this,
35632,c)),this.a.linkProgram(this.b),!this.a.getProgramParameter(this.b,35714))throw new Error(this.a.getProgramInfoLog(this.b))}function Hb(a){this.b=null,this.c=0,this.d=-1,this.a=a,this.b=this.a.createBuffer(),this.c=34962}function Ib(a,b){this.a=a,this.b=b}function Jb(a,b,c,d,e){this.a=a,this.b=b,this.c=c,this.d=d,this.e=e}function Kb(a,b){this.b=this.c=null,this.a=a,this.b=Oa(b),this.c=this.a.createTexture(),this.a.bindTexture(3553,this.c),this.a.texParameteri(3553,10242,this.b.c),this.a.texParameteri(3553,10243,this.b.c),this.a.texParameteri(3553,10241,this.b.d),this.a.texParameteri(3553,10240,this.b.d)}function Mb(){this.a=!1,this.b=-1}function Rb(a,b){this.a=a,this.b=b}function Sb(a,b){this.a=a,this.b=b}function Ub(a){this.a=a}var ub=new Bb,$a=[k(7051762),k(4814543),k(8428277),k(8305894),k(9011445),k(970239),k(5611513)],rb=k(3355443),sb=k(10066329),Ba=k(10855845),tb=k(9391359),vb=new Float32Array([-1,-1,1,-1,-1,1,1,1]);Nb()})();
